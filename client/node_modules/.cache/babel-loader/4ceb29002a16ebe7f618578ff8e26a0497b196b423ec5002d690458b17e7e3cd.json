{"ast":null,"code":"var _excluded = [\"children\", \"footer\", \"gap\", \"onDone\", \"onTouched\", \"pad\", \"updateOn\"];\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Footer } from '../Footer';\nimport { Form } from '../Form';\nimport { DataContext } from '../../contexts/DataContext';\nimport { MessageContext } from '../../contexts/MessageContext';\nvar HideableButton = styled(Button).withConfig({\n  displayName: \"DataForm__HideableButton\",\n  componentId: \"sc-v64e1r-0\"\n})([\"\", \"\"], function (props) {\n  return props.disabled && \"\\n  opacity: 0;\";\n});\nvar hideButtonProps = {\n  'aria-hidden': true,\n  disabled: true,\n  tabIndex: -1\n};\n\n// We convert the view structure to something more flat to work better\n// with the Form inputs. These keys are how we flatten the Form value object\n// from the view object.\nexport var formSearchKey = '_search';\nexport var formSortKey = '_sort';\nexport var formRangeKey = '_range';\nexport var formStepKey = '_step';\nexport var formPageKey = '_page';\nexport var formColumnsKey = '_columns';\nexport var formViewNameKey = '_view';\nvar viewFormKeyMap = {\n  search: formSearchKey,\n  sort: formSortKey,\n  step: formStepKey,\n  page: formPageKey,\n  columns: formColumnsKey,\n  view: formViewNameKey\n};\n\n// converts from the external view format to the internal Form value format\nvar viewToFormValue = function viewToFormValue(view) {\n  var result = _extends({}, (view == null ? void 0 : view.properties) || {});\n  // convert { min: , max: } range to [min, max] for RangeSelector\n  Object.keys(result).forEach(function (key) {\n    var _result$key, _result$key2;\n    if (typeof ((_result$key = result[key]) == null ? void 0 : _result$key.min) === 'number' || typeof ((_result$key2 = result[key]) == null ? void 0 : _result$key2.max) === 'number') {\n      var _result$key3;\n      result[key] = (_result$key3 = {}, _result$key3[formRangeKey] = [result[key].min, result[key].max], _result$key3);\n    }\n  });\n\n  // convert formal view keys to their form '_' prefixed counterparts\n  Object.keys(viewFormKeyMap).forEach(function (key) {\n    if (view != null && view[key]) result[viewFormKeyMap[key]] = view[key];\n  });\n  // always have some blank search text\n  if (!result[formSearchKey]) result[formSearchKey] = '';\n  if (view != null && view.sort) result[formSortKey] = view.sort;\n  if (view != null && view.name) result[formViewNameKey] = view.name;\n  if (view != null && view.columns) result[formColumnsKey] = view.columns;\n  return result;\n};\n\n// converts from the internal Form value format to the external view format\nvar formValueToView = function formValueToView(value, views) {\n  var result = {};\n\n  // if the user chose a view, use that\n  if (value[formViewNameKey]) result = JSON.parse(JSON.stringify(views.find(function (v) {\n    return v.name === value[formViewNameKey];\n  })));\n  var valueCopy = _extends({}, value);\n  Object.keys(viewFormKeyMap).forEach(function (key) {\n    if (valueCopy[viewFormKeyMap[key]]) {\n      result[key] = valueCopy[viewFormKeyMap[key]];\n    }\n    delete valueCopy[viewFormKeyMap[key]];\n  });\n  result.properties = _extends({}, result.properties || {}, valueCopy);\n\n  // convert any ranges\n  Object.keys(result.properties).forEach(function (key) {\n    if (result.properties[key][formRangeKey]) {\n      result.properties[key] = {\n        min: result.properties[key][formRangeKey][0],\n        max: result.properties[key][formRangeKey][1]\n      };\n    }\n  });\n  return result;\n};\n\n// remove any empty arrays of property values by deleting the key for\n// that property in the view properties\nvar clearEmpty = function clearEmpty(formValue) {\n  var value = formValue;\n  Object.keys(value).forEach(function (k) {\n    if (Array.isArray(value[k]) && value[k].length === 0) delete value[k];\n  });\n  return value;\n};\n\n// if paging, when anything other than the page changes, reset the page to 1\nvar resetPage = function resetPage(nextFormValue, prevFormValue) {\n  if (prevFormValue[formPageKey] && prevFormValue[formPageKey] > 1)\n    // eslint-disable-next-line no-param-reassign\n    nextFormValue[formPageKey] = 1;\n};\nvar transformTouched = function transformTouched(touched, value) {\n  var result = {};\n  Object.keys(touched).forEach(function (key) {\n    // special case _range fields\n    var parts = key.split('.');\n    if (parts[1] === formRangeKey) result[key] = value[parts[0]];else result[key] = value[key];\n  });\n  return result;\n};\n\n// function shared by onSubmit and onChange to coordinate view\n// name changes\nvar normalizeValue = function normalizeValue(nextValue, prevValue, views) {\n  if (nextValue[formViewNameKey] && nextValue[formViewNameKey] !== prevValue[formViewNameKey]) {\n    // view name changed, reset view contents from named view\n    return viewToFormValue(views.find(function (v) {\n      return v.name === nextValue[formViewNameKey];\n    }));\n  }\n\n  // something else changed, clear empty propeties\n  var result = clearEmpty(nextValue);\n  // if we have a view and something related to it changed, clear the view\n  if (result[formViewNameKey]) {\n    var view = views.find(function (v) {\n      return v.name === result[formViewNameKey];\n    });\n    var viewValue = viewToFormValue(view);\n    clearEmpty(viewValue);\n    if (Object.keys(viewValue).some(function (k) {\n      return (\n        // allow mismatch between empty and set strings\n        viewValue[k] && result[k] && JSON.stringify(result[k]) !== JSON.stringify(viewValue[k])\n      );\n    })) {\n      delete result[formViewNameKey];\n    }\n  }\n  return result;\n};\nexport var DataForm = function DataForm(_ref) {\n  var children = _ref.children,\n    footer = _ref.footer,\n    gap = _ref.gap,\n    onDone = _ref.onDone,\n    onTouched = _ref.onTouched,\n    pad = _ref.pad,\n    updateOnProp = _ref.updateOn,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useContext = useContext(DataContext),\n    messages = _useContext.messages,\n    onView = _useContext.onView,\n    updateOnData = _useContext.updateOn,\n    view = _useContext.view,\n    views = _useContext.views;\n  var updateOn = updateOnProp != null ? updateOnProp : updateOnData;\n  var _useContext2 = useContext(MessageContext),\n    format = _useContext2.format;\n  var _useState = useState(viewToFormValue(view)),\n    formValue = _useState[0],\n    setFormValue = _useState[1];\n  var _useState2 = useState(),\n    changed = _useState2[0],\n    setChanged = _useState2[1];\n  var onSubmit = useCallback(function (_ref2) {\n    var value = _ref2.value,\n      touched = _ref2.touched;\n    var nextValue = normalizeValue(value, formValue, views);\n    resetPage(nextValue, formValue);\n    setFormValue(nextValue);\n    setChanged(false);\n    if (onTouched) onTouched(transformTouched(touched, nextValue));\n    onView(formValueToView(nextValue, views));\n    if (onDone) onDone();\n  }, [formValue, onDone, onTouched, onView, views]);\n  var onChange = useCallback(function (value, _ref3) {\n    var touched = _ref3.touched;\n    var nextValue = normalizeValue(value, formValue, views);\n    resetPage(nextValue, formValue);\n    setFormValue(nextValue);\n    setChanged(true);\n    if (updateOn === 'change') {\n      if (onTouched) onTouched(transformTouched(touched, nextValue));\n      onView(formValueToView(nextValue, views));\n    }\n  }, [formValue, onTouched, onView, updateOn, views]);\n  var onReset = useCallback(function () {\n    setFormValue(viewToFormValue(view));\n    setChanged(false);\n  }, [view]);\n  useEffect(function () {\n    return setFormValue(viewToFormValue(view));\n  }, [view]);\n  return /*#__PURE__*/React.createElement(Form, _extends({}, rest, {\n    value: formValue,\n    onSubmit: updateOn === 'submit' ? onSubmit : undefined,\n    onChange: onChange\n  }), /*#__PURE__*/React.createElement(Box, {\n    flex: false,\n    pad: pad,\n    gap: gap\n  }, children, footer !== false && updateOn === 'submit' && /*#__PURE__*/React.createElement(Footer, null, /*#__PURE__*/React.createElement(Button, {\n    label: format({\n      id: 'dataForm.submit',\n      messages: messages == null ? void 0 : messages.dataForm\n    }),\n    type: \"submit\",\n    primary: true\n  }), /*#__PURE__*/React.createElement(HideableButton, _extends({\n    label: format({\n      id: 'dataForm.reset',\n      messages: messages == null ? void 0 : messages.dataForm\n    }),\n    type: \"reset\",\n    onClick: onReset\n  }, !changed ? hideButtonProps : {})))));\n};","map":{"version":3,"names":["_excluded","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","Object","keys","key","i","length","indexOf","_extends","assign","bind","arguments","prototype","hasOwnProperty","call","apply","React","useCallback","useContext","useEffect","useState","styled","Box","Button","Footer","Form","DataContext","MessageContext","HideableButton","withConfig","displayName","componentId","props","disabled","hideButtonProps","tabIndex","formSearchKey","formSortKey","formRangeKey","formStepKey","formPageKey","formColumnsKey","formViewNameKey","viewFormKeyMap","search","sort","step","page","columns","view","viewToFormValue","result","properties","forEach","_result$key","_result$key2","min","max","_result$key3","name","formValueToView","value","views","JSON","parse","stringify","find","v","valueCopy","clearEmpty","formValue","k","Array","isArray","resetPage","nextFormValue","prevFormValue","transformTouched","touched","parts","split","normalizeValue","nextValue","prevValue","viewValue","some","DataForm","_ref","children","footer","gap","onDone","onTouched","pad","updateOnProp","updateOn","rest","_useContext","messages","onView","updateOnData","_useContext2","format","_useState","setFormValue","_useState2","changed","setChanged","onSubmit","_ref2","onChange","_ref3","onReset","createElement","undefined","flex","label","id","dataForm","type","primary","onClick"],"sources":["C:/Users/malch/OneDrive/Documents/Projects/chucode/node_modules/grommet/es6/components/Data/DataForm.js"],"sourcesContent":["var _excluded = [\"children\", \"footer\", \"gap\", \"onDone\", \"onTouched\", \"pad\", \"updateOn\"];\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Footer } from '../Footer';\nimport { Form } from '../Form';\nimport { DataContext } from '../../contexts/DataContext';\nimport { MessageContext } from '../../contexts/MessageContext';\nvar HideableButton = styled(Button).withConfig({\n  displayName: \"DataForm__HideableButton\",\n  componentId: \"sc-v64e1r-0\"\n})([\"\", \"\"], function (props) {\n  return props.disabled && \"\\n  opacity: 0;\";\n});\nvar hideButtonProps = {\n  'aria-hidden': true,\n  disabled: true,\n  tabIndex: -1\n};\n\n// We convert the view structure to something more flat to work better\n// with the Form inputs. These keys are how we flatten the Form value object\n// from the view object.\nexport var formSearchKey = '_search';\nexport var formSortKey = '_sort';\nexport var formRangeKey = '_range';\nexport var formStepKey = '_step';\nexport var formPageKey = '_page';\nexport var formColumnsKey = '_columns';\nexport var formViewNameKey = '_view';\nvar viewFormKeyMap = {\n  search: formSearchKey,\n  sort: formSortKey,\n  step: formStepKey,\n  page: formPageKey,\n  columns: formColumnsKey,\n  view: formViewNameKey\n};\n\n// converts from the external view format to the internal Form value format\nvar viewToFormValue = function viewToFormValue(view) {\n  var result = _extends({}, (view == null ? void 0 : view.properties) || {});\n  // convert { min: , max: } range to [min, max] for RangeSelector\n  Object.keys(result).forEach(function (key) {\n    var _result$key, _result$key2;\n    if (typeof ((_result$key = result[key]) == null ? void 0 : _result$key.min) === 'number' || typeof ((_result$key2 = result[key]) == null ? void 0 : _result$key2.max) === 'number') {\n      var _result$key3;\n      result[key] = (_result$key3 = {}, _result$key3[formRangeKey] = [result[key].min, result[key].max], _result$key3);\n    }\n  });\n\n  // convert formal view keys to their form '_' prefixed counterparts\n  Object.keys(viewFormKeyMap).forEach(function (key) {\n    if (view != null && view[key]) result[viewFormKeyMap[key]] = view[key];\n  });\n  // always have some blank search text\n  if (!result[formSearchKey]) result[formSearchKey] = '';\n  if (view != null && view.sort) result[formSortKey] = view.sort;\n  if (view != null && view.name) result[formViewNameKey] = view.name;\n  if (view != null && view.columns) result[formColumnsKey] = view.columns;\n  return result;\n};\n\n// converts from the internal Form value format to the external view format\nvar formValueToView = function formValueToView(value, views) {\n  var result = {};\n\n  // if the user chose a view, use that\n  if (value[formViewNameKey]) result = JSON.parse(JSON.stringify(views.find(function (v) {\n    return v.name === value[formViewNameKey];\n  })));\n  var valueCopy = _extends({}, value);\n  Object.keys(viewFormKeyMap).forEach(function (key) {\n    if (valueCopy[viewFormKeyMap[key]]) {\n      result[key] = valueCopy[viewFormKeyMap[key]];\n    }\n    delete valueCopy[viewFormKeyMap[key]];\n  });\n  result.properties = _extends({}, result.properties || {}, valueCopy);\n\n  // convert any ranges\n  Object.keys(result.properties).forEach(function (key) {\n    if (result.properties[key][formRangeKey]) {\n      result.properties[key] = {\n        min: result.properties[key][formRangeKey][0],\n        max: result.properties[key][formRangeKey][1]\n      };\n    }\n  });\n  return result;\n};\n\n// remove any empty arrays of property values by deleting the key for\n// that property in the view properties\nvar clearEmpty = function clearEmpty(formValue) {\n  var value = formValue;\n  Object.keys(value).forEach(function (k) {\n    if (Array.isArray(value[k]) && value[k].length === 0) delete value[k];\n  });\n  return value;\n};\n\n// if paging, when anything other than the page changes, reset the page to 1\nvar resetPage = function resetPage(nextFormValue, prevFormValue) {\n  if (prevFormValue[formPageKey] && prevFormValue[formPageKey] > 1)\n    // eslint-disable-next-line no-param-reassign\n    nextFormValue[formPageKey] = 1;\n};\nvar transformTouched = function transformTouched(touched, value) {\n  var result = {};\n  Object.keys(touched).forEach(function (key) {\n    // special case _range fields\n    var parts = key.split('.');\n    if (parts[1] === formRangeKey) result[key] = value[parts[0]];else result[key] = value[key];\n  });\n  return result;\n};\n\n// function shared by onSubmit and onChange to coordinate view\n// name changes\nvar normalizeValue = function normalizeValue(nextValue, prevValue, views) {\n  if (nextValue[formViewNameKey] && nextValue[formViewNameKey] !== prevValue[formViewNameKey]) {\n    // view name changed, reset view contents from named view\n    return viewToFormValue(views.find(function (v) {\n      return v.name === nextValue[formViewNameKey];\n    }));\n  }\n\n  // something else changed, clear empty propeties\n  var result = clearEmpty(nextValue);\n  // if we have a view and something related to it changed, clear the view\n  if (result[formViewNameKey]) {\n    var view = views.find(function (v) {\n      return v.name === result[formViewNameKey];\n    });\n    var viewValue = viewToFormValue(view);\n    clearEmpty(viewValue);\n    if (Object.keys(viewValue).some(function (k) {\n      return (\n        // allow mismatch between empty and set strings\n        viewValue[k] && result[k] && JSON.stringify(result[k]) !== JSON.stringify(viewValue[k])\n      );\n    })) {\n      delete result[formViewNameKey];\n    }\n  }\n  return result;\n};\nexport var DataForm = function DataForm(_ref) {\n  var children = _ref.children,\n    footer = _ref.footer,\n    gap = _ref.gap,\n    onDone = _ref.onDone,\n    onTouched = _ref.onTouched,\n    pad = _ref.pad,\n    updateOnProp = _ref.updateOn,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useContext = useContext(DataContext),\n    messages = _useContext.messages,\n    onView = _useContext.onView,\n    updateOnData = _useContext.updateOn,\n    view = _useContext.view,\n    views = _useContext.views;\n  var updateOn = updateOnProp != null ? updateOnProp : updateOnData;\n  var _useContext2 = useContext(MessageContext),\n    format = _useContext2.format;\n  var _useState = useState(viewToFormValue(view)),\n    formValue = _useState[0],\n    setFormValue = _useState[1];\n  var _useState2 = useState(),\n    changed = _useState2[0],\n    setChanged = _useState2[1];\n  var onSubmit = useCallback(function (_ref2) {\n    var value = _ref2.value,\n      touched = _ref2.touched;\n    var nextValue = normalizeValue(value, formValue, views);\n    resetPage(nextValue, formValue);\n    setFormValue(nextValue);\n    setChanged(false);\n    if (onTouched) onTouched(transformTouched(touched, nextValue));\n    onView(formValueToView(nextValue, views));\n    if (onDone) onDone();\n  }, [formValue, onDone, onTouched, onView, views]);\n  var onChange = useCallback(function (value, _ref3) {\n    var touched = _ref3.touched;\n    var nextValue = normalizeValue(value, formValue, views);\n    resetPage(nextValue, formValue);\n    setFormValue(nextValue);\n    setChanged(true);\n    if (updateOn === 'change') {\n      if (onTouched) onTouched(transformTouched(touched, nextValue));\n      onView(formValueToView(nextValue, views));\n    }\n  }, [formValue, onTouched, onView, updateOn, views]);\n  var onReset = useCallback(function () {\n    setFormValue(viewToFormValue(view));\n    setChanged(false);\n  }, [view]);\n  useEffect(function () {\n    return setFormValue(viewToFormValue(view));\n  }, [view]);\n  return /*#__PURE__*/React.createElement(Form, _extends({}, rest, {\n    value: formValue,\n    onSubmit: updateOn === 'submit' ? onSubmit : undefined,\n    onChange: onChange\n  }), /*#__PURE__*/React.createElement(Box, {\n    flex: false,\n    pad: pad,\n    gap: gap\n  }, children, footer !== false && updateOn === 'submit' && /*#__PURE__*/React.createElement(Footer, null, /*#__PURE__*/React.createElement(Button, {\n    label: format({\n      id: 'dataForm.submit',\n      messages: messages == null ? void 0 : messages.dataForm\n    }),\n    type: \"submit\",\n    primary: true\n  }), /*#__PURE__*/React.createElement(HideableButton, _extends({\n    label: format({\n      id: 'dataForm.reset',\n      messages: messages == null ? void 0 : messages.dataForm\n    }),\n    type: \"reset\",\n    onClick: onReset\n  }, !changed ? hideButtonProps : {})))));\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}