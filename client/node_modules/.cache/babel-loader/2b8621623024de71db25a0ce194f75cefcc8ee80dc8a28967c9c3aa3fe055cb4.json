{"ast":null,"code":"var _excluded = [\"fill\", \"color\", \"continents\", \"hoverColor\", \"onSelectPlace\", \"places\"],\n  _excluded2 = [\"location\"],\n  _excluded3 = [\"color\", \"onClick\", \"onHover\"],\n  _excluded4 = [\"color\", \"coords\", \"content\", \"dropProps\", \"key\", \"name\", \"onClick\", \"onHover\"];\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nimport React, { forwardRef } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { Drop } from '../Drop';\nimport { defaultProps } from '../../default-props';\nimport { normalizeColor, parseMetricToNum } from '../../utils';\nimport { StyledWorldMap } from './StyledWorldMap';\nimport { WorldMapPropTypes } from './propTypes';\n\n// The graphic is drawn as a rectangular grid using coordinates spaced\n// by FACTOR pixels.\nvar FACTOR = 10;\n\n// Mapping constants between coordinates and latitude+longitude.\n// The map coordinate space isn't precisely a mercator projection. So,\n// we have a few adjustments that we've empirically determined. The following\n// cities were used to make the empirical determinations:\n// London (0 lon), Quito (0 lat), Nome (far west), Sydney (far east),\n// Svalbard (far north), Ushuaia (far south).\n\n// These map to reality, they aren't adjusted.\nvar EQUATOR_Y = 32;\nvar WIDTH = 93;\n\n// Scale the latitude and longitude to align better with actual locations.\nvar LAT_SCALE = 0.98;\n// adjust more extreme latitudes to fit with the map dots better\nvar LAT_EXTREME_SCALE = 0.91;\nvar LON_SCALE = 0.99;\n\n// We shift the map coordinates to align better with actual locations.\nvar X_OFFSET = -2;\nvar Y_OFFSET = -2;\n\n// The continents have both an area boundary for interaction\n// and dots described as rows where each row is described by three values:\n// a starting coordinate and a length. This approach is more efficient than\n// describing it via SVG elements, keeping the code/library size smaller.\nvar CONTINENTS = [{\n  name: 'Australia',\n  origin: [74, 32],\n  area: [[4, 0], [7, 1], [15, 7], [13, 9], [8, 8], [0, 6], [0, 2]],\n  dots: [[4, 0, 1], [2, 1, 6], [0, 2, 9], [0, 3, 10], [0, 4, 10], [0, 5, 3], [5, 5, 5], [5, 6, 4], [8, 8, 1], [15, 7, 1], [14, 8, 1], [13, 9, 1]]\n}, {\n  name: 'Asia',\n  origin: [52, 1],\n  area: [[16, 0], [38, 5], [40, 7], [28, 17], [24, 25], [29, 29], [19, 29], [11, 24], [3, 23], [0, 20], [0, 19], [6, 13], [7, 6]],\n  dots: [[16, 0, 1], [17, 1, 2], [18, 2, 2], [15, 3, 6], [28, 3, 1], [30, 3, 1], [10, 4, 2], [13, 4, 10], [24, 4, 1], [9, 5, 22], [32, 5, 1], [38, 5, 1], [7, 6, 2], [10, 6, 1], [12, 6, 27], [7, 7, 34], [7, 8, 31], [7, 9, 26], [34, 9, 3], [7, 10, 22], [31, 10, 1], [33, 10, 1], [7, 11, 21], [32, 11, 2], [7, 12, 21], [32, 12, 1], [6, 13, 22], [32, 13, 1], [6, 14, 22], [5, 15, 22], [3, 16, 2], [6, 16, 20], [2, 17, 3], [6, 17, 16], [24, 17, 1], [28, 17, 1], [1, 18, 22], [26, 18, 2], [0, 19, 24], [0, 20, 5], [6, 20, 17], [2, 21, 5], [10, 21, 14], [2, 22, 5], [11, 22, 4], [16, 22, 4], [3, 23, 3], [11, 23, 2], [17, 23, 3], [23, 23, 1], [11, 24, 2], [18, 24, 2], [23, 24, 1], [24, 25, 1], [18, 26, 1], [22, 26, 1], [18, 27, 1], [20, 27, 4], [18, 28, 1], [21, 28, 1], [23, 28, 1], [26, 28, 3], [19, 29, 1], [28, 29, 2]]\n}, {\n  name: 'Africa',\n  origin: [40, 19],\n  area: [[3, 0], [6, 0], [11, 2], [16, 7], [16, 15], [11, 18], [9, 18], [0, 6], [0, 3]],\n  dots: [[3, 0, 4], [2, 1, 6], [9, 1, 2], [1, 2, 11], [0, 3, 13], [0, 4, 14], [0, 5, 14], [0, 6, 16], [1, 7, 16], [2, 8, 2], [6, 8, 11], [7, 9, 9], [7, 10, 8], [7, 11, 7], [8, 12, 7], [7, 13, 8], [7, 14, 7], [16, 14, 1], [8, 15, 5], [15, 15, 2], [8, 16, 5], [9, 17, 3], [9, 18, 3]]\n}, {\n  name: 'Europe',\n  origin: [39, 2],\n  area: [[8, 0], [10, 0], [20, 2], [19, 11], [18, 13], [14, 16], [3, 16], [0, 7]],\n  dots: [[8, 0, 3], [9, 1, 1], [20, 2, 1], [19, 3, 1], [12, 4, 1], [19, 4, 1], [9, 5, 6], [9, 6, 7], [17, 6, 3], [0, 7, 1], [8, 7, 12], [7, 8, 3], [11, 8, 9], [7, 9, 3], [11, 9, 9], [4, 10, 1], [7, 10, 1], [9, 10, 1], [11, 10, 9], [3, 11, 2], [7, 11, 13], [4, 12, 1], [6, 12, 13], [4, 13, 15], [5, 14, 3], [9, 14, 4], [15, 14, 2], [3, 15, 3], [8, 15, 1], [10, 15, 5], [6, 15, 2], [3, 16, 2], [10, 16, 5]]\n}, {\n  name: 'South America',\n  origin: [22, 26],\n  area: [[2, 0], [5, 0], [11, 4], [11, 8], [3, 18], [2, 17], [0, 4], [0, 3]],\n  dots: [[2, 0, 4], [1, 1, 7], [1, 2, 7], [0, 3, 10], [0, 4, 12], [1, 5, 11], [2, 6, 9], [3, 7, 8], [3, 8, 8], [3, 9, 6], [3, 10, 6], [3, 11, 5], [3, 12, 3], [2, 13, 3], [2, 14, 3], [2, 15, 2], [2, 16, 2], [2, 17, 2], [3, 18, 1]]\n}, {\n  name: 'North America',\n  origin: [0, 0],\n  area: [[21, 0], [39, 0], [39, 6], [22, 26], [16, 23], [2, 12], [0, 7]],\n  dots: [[22, 0, 6], [29, 0, 1], [31, 0, 1], [33, 0, 5], [20, 1, 1], [22, 1, 1], [24, 1, 2], [27, 1, 13], [17, 2, 1], [20, 2, 5], [26, 2, 13], [13, 3, 1], [19, 3, 1], [21, 3, 3], [26, 3, 14], [14, 4, 1], [16, 4, 4], [21, 4, 3], [29, 4, 11], [12, 5, 3], [16, 5, 1], [18, 5, 1], [20, 5, 3], [24, 5, 1], [30, 5, 8], [14, 6, 3], [19, 6, 1], [22, 6, 4], [31, 6, 8], [0, 7, 15], [16, 7, 1], [18, 7, 4], [24, 7, 2], [30, 7, 7], [2, 8, 20], [24, 8, 3], [29, 8, 5], [2, 9, 20], [24, 9, 2], [30, 9, 3], [1, 10, 18], [23, 10, 2], [31, 10, 1], [2, 11, 2], [8, 11, 11], [23, 11, 2], [26, 11, 1], [2, 12, 1], [8, 12, 13], [24, 12, 3], [10, 13, 12], [23, 13, 5], [11, 14, 17], [11, 15, 9], [21, 15, 6], [28, 15, 2], [11, 16, 11], [23, 16, 4], [11, 17, 14], [12, 18, 11], [12, 19, 12], [13, 20, 9], [15, 21, 3], [22, 21, 1], [16, 22, 2], [16, 23, 2], [20, 23, 1], [23, 23, 1], [18, 24, 3], [21, 25, 1], [22, 26, 1]]\n}];\nvar mergeBounds = function mergeBounds(bounds1, bounds2) {\n  return [bounds1 ? Math.min(bounds1[0], bounds2[0]) : bounds2[0], bounds1 ? Math.min(bounds1[1], bounds2[1]) : bounds2[1], bounds1 ? Math.max(bounds1[2], bounds2[2]) : bounds2[2], bounds1 ? Math.max(bounds1[3], bounds2[3]) : bounds2[3]];\n};\nvar midPoint = function midPoint(bounds) {\n  return [bounds[0] + (bounds[2] - bounds[0]) / 2, bounds[1] + (bounds[3] - bounds[1]) / 2];\n};\n\n// from https://stackoverflow.com/a/14457180/8513067\nvar latLonToCoord = function latLonToCoord(_ref) {\n  var lat = _ref[0],\n    lon = _ref[1];\n  var scaledLon = lon * LON_SCALE;\n  var x = Math.round((scaledLon + 180) * (WIDTH / 360));\n  // adjust more extreme latitudes to fit with the map dots better\n  var scaledLat = lat * (lat > 60 || lat < -50 ? LAT_EXTREME_SCALE : LAT_SCALE);\n  var latRad = scaledLat * Math.PI / 180;\n  var mercN = Math.log(Math.tan(Math.PI / 4 + latRad / 2));\n  var y = Math.round(EQUATOR_Y - WIDTH * mercN / (2 * Math.PI));\n  return [x + X_OFFSET, y + Y_OFFSET];\n};\nvar coordToLatLon = function coordToLatLon(_ref2) {\n  var x = _ref2[0],\n    y = _ref2[1];\n  var mercN = (EQUATOR_Y - (y - Y_OFFSET)) * (2 * Math.PI) / WIDTH;\n  var latRad = (Math.atan(Math.exp(mercN)) - Math.PI / 4) * 2;\n  var scaledLat = latRad * 180 / Math.PI / LAT_SCALE;\n  // adjust more extreme latitudes to fit with the map dots better\n  var lat = scaledLat / (scaledLat > 60 || scaledLat < -50 ? LAT_EXTREME_SCALE : LAT_SCALE);\n  var lon = (x - X_OFFSET) * 360 / WIDTH - 180;\n  return [lat, lon];\n};\nvar buildContinent = function buildContinent(_ref3) {\n  var areaProp = _ref3.area,\n    dotsProp = _ref3.dots,\n    name = _ref3.name,\n    origin = _ref3.origin;\n  var bounds = [origin[0], origin[1], origin[0], origin[1]];\n  var dots = dotsProp.map(function (segment) {\n    var count = segment[2];\n    var spots = [];\n    for (var i = 0; i < count; i += 1) spots.push('h0');\n    var dotCommands = spots.join(' m10,0 ');\n    var x = FACTOR * (origin[0] + segment[0] + 1);\n    var y = FACTOR * (origin[1] + segment[1] + 1);\n    bounds = mergeBounds(bounds, [origin[0], origin[1], origin[0] + segment[0] + segment[2], origin[1] + segment[1]]);\n    return \"M\" + x + \",\" + y + \" \" + dotCommands;\n  }).join(' ');\n  var area = areaProp.map(function (point, index) {\n    var x = FACTOR * (point[0] + origin[0] + 1);\n    var y = FACTOR * (point[1] + origin[1] + 1);\n    return \"\" + (index === 0 ? 'M' : 'L') + x + \",\" + y;\n  }).join(' ') + \" Z\";\n  var mid = midPoint(bounds);\n  return {\n    area: area,\n    dots: dots,\n    name: name,\n    origin: origin,\n    bounds: bounds,\n    mid: mid\n  };\n};\nvar buildWorld = function buildWorld() {\n  // Build the SVG paths describing the individual dots\n  var continents = CONTINENTS.map(buildContinent);\n  var bounds;\n  continents.forEach(function (continent) {\n    bounds = mergeBounds(bounds, continent.bounds);\n  });\n  return {\n    continents: continents,\n    bounds: bounds,\n    x: bounds[0] * FACTOR,\n    y: bounds[1] * FACTOR,\n    width: (bounds[2] - bounds[0] + 1) * FACTOR,\n    height: (bounds[3] - bounds[1] + 2) * FACTOR\n  };\n};\nvar buildInteractiveProps = function buildInteractiveProps(_ref4, activeFunc, active) {\n  var name = _ref4.name,\n    onClick = _ref4.onClick,\n    onHover = _ref4.onHover;\n  return {\n    role: 'button',\n    'aria-label': name,\n    tabIndex: '0',\n    onClick: onClick ? function () {\n      return onClick(name);\n    } : undefined,\n    onMouseOver: function onMouseOver() {\n      if (!active) {\n        activeFunc(name);\n        if (onHover) {\n          onHover(true);\n        }\n      }\n    },\n    onMouseLeave: function onMouseLeave() {\n      if (active) {\n        activeFunc(undefined);\n        if (onHover) {\n          onHover(false);\n        }\n      }\n    },\n    onFocus: function onFocus() {\n      // This moves the map unnecessarily. Instead, we should check\n      // the position and scroll if it isn't already visible\n      // this._worldMapRef.scrollIntoView();\n      if (!active) {\n        activeFunc(name);\n      }\n    },\n    onBlur: function onBlur() {\n      if (active) {\n        activeFunc(undefined);\n      }\n    }\n  };\n};\nvar WorldMap = /*#__PURE__*/forwardRef(function (_ref5, ref) {\n  var fill = _ref5.fill,\n    color = _ref5.color,\n    continentsProp = _ref5.continents,\n    hoverColor = _ref5.hoverColor,\n    onSelectPlace = _ref5.onSelectPlace,\n    placesProp = _ref5.places,\n    rest = _objectWithoutPropertiesLoose(_ref5, _excluded);\n  var theme = React.useContext(ThemeContext);\n  var world = React.useMemo(buildWorld, []);\n  var _React$useState = React.useState({}),\n    continents = _React$useState[0],\n    setContinents = _React$useState[1];\n  React.useEffect(function () {\n    if (continentsProp) {\n      setContinents(continentsProp.reduce(function (obj, continent) {\n        // eslint-disable-next-line no-param-reassign\n        obj[continent.name] = continent;\n        return obj;\n      }, {}));\n    } else setContinents({});\n  }, [continentsProp]);\n  var _React$useState2 = React.useState([]),\n    places = _React$useState2[0],\n    setPlaces = _React$useState2[1];\n  React.useEffect(function () {\n    if (placesProp) {\n      setPlaces(placesProp.map(function (_ref6) {\n        var location = _ref6.location,\n          place = _objectWithoutPropertiesLoose(_ref6, _excluded2);\n        var coords = latLonToCoord(location);\n        return _extends({\n          coords: coords,\n          key: location.join(',')\n        }, place);\n      }));\n    } else setPlaces([]);\n  }, [placesProp, world]);\n  var _React$useState3 = React.useState(),\n    over = _React$useState3[0],\n    setOver = _React$useState3[1];\n  var _React$useState4 = React.useState(),\n    activeCoords = _React$useState4[0],\n    setActiveCoords = _React$useState4[1];\n  var _React$useState5 = React.useState(),\n    activeContinent = _React$useState5[0],\n    setActiveContinent = _React$useState5[1];\n  var _React$useState6 = React.useState(),\n    activePlace = _React$useState6[0],\n    setActivePlace = _React$useState6[1];\n  var containerRef = React.useRef();\n\n  // targets are used for the Drops associated with places content\n  var _React$useState7 = React.useState([]),\n    targets = _React$useState7[0],\n    setTargets = _React$useState7[1];\n  var placeRef = React.useCallback(function (node, index) {\n    setTargets(function (prevTargets) {\n      if (!prevTargets[index]) {\n        var nextTargets = [].concat(prevTargets);\n        nextTargets[index] = node;\n        return nextTargets;\n      }\n      return prevTargets;\n    });\n  }, []);\n  var onMouseMove = React.useCallback(function (event) {\n    // determine the map coordinates for where the mouse is\n    // containerRef uses the group so we can handle aspect ratio scaling\n    var rect = containerRef.current.getBoundingClientRect();\n    // since the SVG viewBox might be scaled\n    var scale = rect.width / world.width;\n    var coords = [Math.round((event.clientX - rect.left) / scale / FACTOR), Math.round((event.clientY - rect.top) / scale / FACTOR)];\n    setActiveCoords(coords);\n  }, [world.width]);\n  var continentElements = world.continents.map(function (_ref7) {\n    var area = _ref7.area,\n      dots = _ref7.dots,\n      name = _ref7.name;\n    var _ref8 = continents[name] || {},\n      continentColor = _ref8.color,\n      onClick = _ref8.onClick,\n      onHover = _ref8.onHover,\n      restContinents = _objectWithoutPropertiesLoose(_ref8, _excluded3);\n    var active = activeContinent && activeContinent === name;\n    var interactiveProps = {};\n    if (onClick || onHover) {\n      interactiveProps = buildInteractiveProps(continents[name], function (activate) {\n        return setActiveContinent(activate);\n      }, active);\n    }\n    return /*#__PURE__*/React.createElement(\"g\", _extends({\n      key: name\n    }, interactiveProps, restContinents), /*#__PURE__*/React.createElement(\"path\", {\n      stroke: \"none\",\n      fill: \"#fff\",\n      fillOpacity: \"0.01\",\n      d: area\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      d: dots,\n      strokeLinecap: \"round\",\n      strokeWidth: parseMetricToNum(theme.worldMap.continent[active ? 'active' : 'base']),\n      stroke: normalizeColor(continentColor || color || theme.worldMap.color, theme)\n    }));\n  });\n  var placesContent = [];\n  var placeElements = places.map(function (place, index) {\n    var placeColor = place.color,\n      coords = place.coords,\n      content = place.content,\n      dropProps = place.dropProps,\n      key = place.key,\n      name = place.name,\n      onClick = place.onClick,\n      onHover = place.onHover,\n      restPlace = _objectWithoutPropertiesLoose(place, _excluded4);\n    var d = \"M\" + FACTOR * coords[0] + \", \" + FACTOR * coords[1] + \" h0\";\n    var active = activePlace && activePlace === name;\n    var interactiveProps = {};\n    if (onClick || onHover) {\n      interactiveProps = buildInteractiveProps(place, function (activate) {\n        return setActivePlace(activate);\n      }, active);\n    }\n    if (content && targets[index]) {\n      placesContent.push( /*#__PURE__*/React.createElement(Drop, _extends({\n        key: key || name\n      }, dropProps, {\n        target: targets[index]\n      }), content));\n    }\n    return /*#__PURE__*/React.createElement(\"path\", _extends({\n      key: key,\n      ref: function ref(node) {\n        return placeRef(node, index);\n      },\n      strokeLinecap: \"round\",\n      strokeWidth: parseMetricToNum(theme.worldMap.place[active ? 'active' : 'base']),\n      stroke: normalizeColor(placeColor || color || theme.worldMap.color, theme)\n    }, interactiveProps, restPlace, {\n      d: d\n    }));\n  });\n\n  // If the caller is interested in onSelectPlace changes, track where the\n  var interactiveProps = {};\n  if (onSelectPlace) {\n    interactiveProps = {\n      onMouseOver: function onMouseOver() {\n        return setOver(true);\n      },\n      onMouseMove: over ? onMouseMove : undefined,\n      onMouseLeave: function onMouseLeave() {\n        setOver(false);\n        setActiveCoords(undefined);\n      }\n    };\n  }\n  var active;\n  if (activeCoords) {\n    var d = \"M\" + FACTOR * activeCoords[0] + \", \" + FACTOR * activeCoords[1] + \" h0\";\n    active = /*#__PURE__*/React.createElement(\"g\", {\n      stroke: \"none\",\n      fill: \"none\",\n      fillRule: \"evenodd\",\n      onClick: function onClick() {\n        return onSelectPlace(coordToLatLon(activeCoords, world.bounds));\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      strokeLinecap: \"round\",\n      strokeWidth: parseMetricToNum(theme.worldMap.place.active),\n      stroke: normalizeColor(hoverColor || color || theme.worldMap.hover.color, theme),\n      d: d\n    }));\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StyledWorldMap, _extends({\n    ref: ref,\n    viewBox: world.x + \" \" + world.y + \" \" + world.width + \" \" + world.height,\n    preserveAspectRatio: \"xMinYMin meet\",\n    fillProp: fill,\n    width: world.width,\n    height: world.height\n  }, interactiveProps, rest), /*#__PURE__*/React.createElement(\"g\", {\n    ref: containerRef,\n    stroke: \"none\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, continentElements), placeElements, active), placesContent);\n});\nWorldMap.displayName = 'WorldMap';\nWorldMap.defaultProps = {};\nObject.setPrototypeOf(WorldMap.defaultProps, defaultProps);\nWorldMap.propTypes = WorldMapPropTypes;\nexport { WorldMap };","map":{"version":3,"names":["_excluded","_excluded2","_excluded3","_excluded4","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","forwardRef","ThemeContext","Drop","defaultProps","normalizeColor","parseMetricToNum","StyledWorldMap","WorldMapPropTypes","FACTOR","EQUATOR_Y","WIDTH","LAT_SCALE","LAT_EXTREME_SCALE","LON_SCALE","X_OFFSET","Y_OFFSET","CONTINENTS","name","origin","area","dots","mergeBounds","bounds1","bounds2","Math","min","max","midPoint","bounds","latLonToCoord","_ref","lat","lon","scaledLon","x","round","scaledLat","latRad","PI","mercN","log","tan","y","coordToLatLon","_ref2","atan","exp","buildContinent","_ref3","areaProp","dotsProp","map","segment","count","spots","push","dotCommands","join","point","index","mid","buildWorld","continents","forEach","continent","width","height","buildInteractiveProps","_ref4","activeFunc","active","onClick","onHover","role","tabIndex","undefined","onMouseOver","onMouseLeave","onFocus","onBlur","WorldMap","_ref5","ref","fill","color","continentsProp","hoverColor","onSelectPlace","placesProp","places","rest","theme","useContext","world","useMemo","_React$useState","useState","setContinents","useEffect","reduce","obj","_React$useState2","setPlaces","_ref6","location","place","coords","_React$useState3","over","setOver","_React$useState4","activeCoords","setActiveCoords","_React$useState5","activeContinent","setActiveContinent","_React$useState6","activePlace","setActivePlace","containerRef","useRef","_React$useState7","targets","setTargets","placeRef","useCallback","node","prevTargets","nextTargets","concat","onMouseMove","event","rect","current","getBoundingClientRect","scale","clientX","left","clientY","top","continentElements","_ref7","_ref8","continentColor","restContinents","interactiveProps","activate","createElement","stroke","fillOpacity","d","strokeLinecap","strokeWidth","worldMap","placesContent","placeElements","placeColor","content","dropProps","restPlace","fillRule","hover","Fragment","viewBox","preserveAspectRatio","fillProp","displayName","setPrototypeOf","propTypes"],"sources":["C:/Users/malch/OneDrive/Documents/Projects/chucode/node_modules/grommet/es6/components/WorldMap/WorldMap.js"],"sourcesContent":["var _excluded = [\"fill\", \"color\", \"continents\", \"hoverColor\", \"onSelectPlace\", \"places\"],\n  _excluded2 = [\"location\"],\n  _excluded3 = [\"color\", \"onClick\", \"onHover\"],\n  _excluded4 = [\"color\", \"coords\", \"content\", \"dropProps\", \"key\", \"name\", \"onClick\", \"onHover\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React, { forwardRef } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { Drop } from '../Drop';\nimport { defaultProps } from '../../default-props';\nimport { normalizeColor, parseMetricToNum } from '../../utils';\nimport { StyledWorldMap } from './StyledWorldMap';\nimport { WorldMapPropTypes } from './propTypes';\n\n// The graphic is drawn as a rectangular grid using coordinates spaced\n// by FACTOR pixels.\nvar FACTOR = 10;\n\n// Mapping constants between coordinates and latitude+longitude.\n// The map coordinate space isn't precisely a mercator projection. So,\n// we have a few adjustments that we've empirically determined. The following\n// cities were used to make the empirical determinations:\n// London (0 lon), Quito (0 lat), Nome (far west), Sydney (far east),\n// Svalbard (far north), Ushuaia (far south).\n\n// These map to reality, they aren't adjusted.\nvar EQUATOR_Y = 32;\nvar WIDTH = 93;\n\n// Scale the latitude and longitude to align better with actual locations.\nvar LAT_SCALE = 0.98;\n// adjust more extreme latitudes to fit with the map dots better\nvar LAT_EXTREME_SCALE = 0.91;\nvar LON_SCALE = 0.99;\n\n// We shift the map coordinates to align better with actual locations.\nvar X_OFFSET = -2;\nvar Y_OFFSET = -2;\n\n// The continents have both an area boundary for interaction\n// and dots described as rows where each row is described by three values:\n// a starting coordinate and a length. This approach is more efficient than\n// describing it via SVG elements, keeping the code/library size smaller.\nvar CONTINENTS = [{\n  name: 'Australia',\n  origin: [74, 32],\n  area: [[4, 0], [7, 1], [15, 7], [13, 9], [8, 8], [0, 6], [0, 2]],\n  dots: [[4, 0, 1], [2, 1, 6], [0, 2, 9], [0, 3, 10], [0, 4, 10], [0, 5, 3], [5, 5, 5], [5, 6, 4], [8, 8, 1], [15, 7, 1], [14, 8, 1], [13, 9, 1]]\n}, {\n  name: 'Asia',\n  origin: [52, 1],\n  area: [[16, 0], [38, 5], [40, 7], [28, 17], [24, 25], [29, 29], [19, 29], [11, 24], [3, 23], [0, 20], [0, 19], [6, 13], [7, 6]],\n  dots: [[16, 0, 1], [17, 1, 2], [18, 2, 2], [15, 3, 6], [28, 3, 1], [30, 3, 1], [10, 4, 2], [13, 4, 10], [24, 4, 1], [9, 5, 22], [32, 5, 1], [38, 5, 1], [7, 6, 2], [10, 6, 1], [12, 6, 27], [7, 7, 34], [7, 8, 31], [7, 9, 26], [34, 9, 3], [7, 10, 22], [31, 10, 1], [33, 10, 1], [7, 11, 21], [32, 11, 2], [7, 12, 21], [32, 12, 1], [6, 13, 22], [32, 13, 1], [6, 14, 22], [5, 15, 22], [3, 16, 2], [6, 16, 20], [2, 17, 3], [6, 17, 16], [24, 17, 1], [28, 17, 1], [1, 18, 22], [26, 18, 2], [0, 19, 24], [0, 20, 5], [6, 20, 17], [2, 21, 5], [10, 21, 14], [2, 22, 5], [11, 22, 4], [16, 22, 4], [3, 23, 3], [11, 23, 2], [17, 23, 3], [23, 23, 1], [11, 24, 2], [18, 24, 2], [23, 24, 1], [24, 25, 1], [18, 26, 1], [22, 26, 1], [18, 27, 1], [20, 27, 4], [18, 28, 1], [21, 28, 1], [23, 28, 1], [26, 28, 3], [19, 29, 1], [28, 29, 2]]\n}, {\n  name: 'Africa',\n  origin: [40, 19],\n  area: [[3, 0], [6, 0], [11, 2], [16, 7], [16, 15], [11, 18], [9, 18], [0, 6], [0, 3]],\n  dots: [[3, 0, 4], [2, 1, 6], [9, 1, 2], [1, 2, 11], [0, 3, 13], [0, 4, 14], [0, 5, 14], [0, 6, 16], [1, 7, 16], [2, 8, 2], [6, 8, 11], [7, 9, 9], [7, 10, 8], [7, 11, 7], [8, 12, 7], [7, 13, 8], [7, 14, 7], [16, 14, 1], [8, 15, 5], [15, 15, 2], [8, 16, 5], [9, 17, 3], [9, 18, 3]]\n}, {\n  name: 'Europe',\n  origin: [39, 2],\n  area: [[8, 0], [10, 0], [20, 2], [19, 11], [18, 13], [14, 16], [3, 16], [0, 7]],\n  dots: [[8, 0, 3], [9, 1, 1], [20, 2, 1], [19, 3, 1], [12, 4, 1], [19, 4, 1], [9, 5, 6], [9, 6, 7], [17, 6, 3], [0, 7, 1], [8, 7, 12], [7, 8, 3], [11, 8, 9], [7, 9, 3], [11, 9, 9], [4, 10, 1], [7, 10, 1], [9, 10, 1], [11, 10, 9], [3, 11, 2], [7, 11, 13], [4, 12, 1], [6, 12, 13], [4, 13, 15], [5, 14, 3], [9, 14, 4], [15, 14, 2], [3, 15, 3], [8, 15, 1], [10, 15, 5], [6, 15, 2], [3, 16, 2], [10, 16, 5]]\n}, {\n  name: 'South America',\n  origin: [22, 26],\n  area: [[2, 0], [5, 0], [11, 4], [11, 8], [3, 18], [2, 17], [0, 4], [0, 3]],\n  dots: [[2, 0, 4], [1, 1, 7], [1, 2, 7], [0, 3, 10], [0, 4, 12], [1, 5, 11], [2, 6, 9], [3, 7, 8], [3, 8, 8], [3, 9, 6], [3, 10, 6], [3, 11, 5], [3, 12, 3], [2, 13, 3], [2, 14, 3], [2, 15, 2], [2, 16, 2], [2, 17, 2], [3, 18, 1]]\n}, {\n  name: 'North America',\n  origin: [0, 0],\n  area: [[21, 0], [39, 0], [39, 6], [22, 26], [16, 23], [2, 12], [0, 7]],\n  dots: [[22, 0, 6], [29, 0, 1], [31, 0, 1], [33, 0, 5], [20, 1, 1], [22, 1, 1], [24, 1, 2], [27, 1, 13], [17, 2, 1], [20, 2, 5], [26, 2, 13], [13, 3, 1], [19, 3, 1], [21, 3, 3], [26, 3, 14], [14, 4, 1], [16, 4, 4], [21, 4, 3], [29, 4, 11], [12, 5, 3], [16, 5, 1], [18, 5, 1], [20, 5, 3], [24, 5, 1], [30, 5, 8], [14, 6, 3], [19, 6, 1], [22, 6, 4], [31, 6, 8], [0, 7, 15], [16, 7, 1], [18, 7, 4], [24, 7, 2], [30, 7, 7], [2, 8, 20], [24, 8, 3], [29, 8, 5], [2, 9, 20], [24, 9, 2], [30, 9, 3], [1, 10, 18], [23, 10, 2], [31, 10, 1], [2, 11, 2], [8, 11, 11], [23, 11, 2], [26, 11, 1], [2, 12, 1], [8, 12, 13], [24, 12, 3], [10, 13, 12], [23, 13, 5], [11, 14, 17], [11, 15, 9], [21, 15, 6], [28, 15, 2], [11, 16, 11], [23, 16, 4], [11, 17, 14], [12, 18, 11], [12, 19, 12], [13, 20, 9], [15, 21, 3], [22, 21, 1], [16, 22, 2], [16, 23, 2], [20, 23, 1], [23, 23, 1], [18, 24, 3], [21, 25, 1], [22, 26, 1]]\n}];\nvar mergeBounds = function mergeBounds(bounds1, bounds2) {\n  return [bounds1 ? Math.min(bounds1[0], bounds2[0]) : bounds2[0], bounds1 ? Math.min(bounds1[1], bounds2[1]) : bounds2[1], bounds1 ? Math.max(bounds1[2], bounds2[2]) : bounds2[2], bounds1 ? Math.max(bounds1[3], bounds2[3]) : bounds2[3]];\n};\nvar midPoint = function midPoint(bounds) {\n  return [bounds[0] + (bounds[2] - bounds[0]) / 2, bounds[1] + (bounds[3] - bounds[1]) / 2];\n};\n\n// from https://stackoverflow.com/a/14457180/8513067\nvar latLonToCoord = function latLonToCoord(_ref) {\n  var lat = _ref[0],\n    lon = _ref[1];\n  var scaledLon = lon * LON_SCALE;\n  var x = Math.round((scaledLon + 180) * (WIDTH / 360));\n  // adjust more extreme latitudes to fit with the map dots better\n  var scaledLat = lat * (lat > 60 || lat < -50 ? LAT_EXTREME_SCALE : LAT_SCALE);\n  var latRad = scaledLat * Math.PI / 180;\n  var mercN = Math.log(Math.tan(Math.PI / 4 + latRad / 2));\n  var y = Math.round(EQUATOR_Y - WIDTH * mercN / (2 * Math.PI));\n  return [x + X_OFFSET, y + Y_OFFSET];\n};\nvar coordToLatLon = function coordToLatLon(_ref2) {\n  var x = _ref2[0],\n    y = _ref2[1];\n  var mercN = (EQUATOR_Y - (y - Y_OFFSET)) * (2 * Math.PI) / WIDTH;\n  var latRad = (Math.atan(Math.exp(mercN)) - Math.PI / 4) * 2;\n  var scaledLat = latRad * 180 / Math.PI / LAT_SCALE;\n  // adjust more extreme latitudes to fit with the map dots better\n  var lat = scaledLat / (scaledLat > 60 || scaledLat < -50 ? LAT_EXTREME_SCALE : LAT_SCALE);\n  var lon = (x - X_OFFSET) * 360 / WIDTH - 180;\n  return [lat, lon];\n};\nvar buildContinent = function buildContinent(_ref3) {\n  var areaProp = _ref3.area,\n    dotsProp = _ref3.dots,\n    name = _ref3.name,\n    origin = _ref3.origin;\n  var bounds = [origin[0], origin[1], origin[0], origin[1]];\n  var dots = dotsProp.map(function (segment) {\n    var count = segment[2];\n    var spots = [];\n    for (var i = 0; i < count; i += 1) spots.push('h0');\n    var dotCommands = spots.join(' m10,0 ');\n    var x = FACTOR * (origin[0] + segment[0] + 1);\n    var y = FACTOR * (origin[1] + segment[1] + 1);\n    bounds = mergeBounds(bounds, [origin[0], origin[1], origin[0] + segment[0] + segment[2], origin[1] + segment[1]]);\n    return \"M\" + x + \",\" + y + \" \" + dotCommands;\n  }).join(' ');\n  var area = areaProp.map(function (point, index) {\n    var x = FACTOR * (point[0] + origin[0] + 1);\n    var y = FACTOR * (point[1] + origin[1] + 1);\n    return \"\" + (index === 0 ? 'M' : 'L') + x + \",\" + y;\n  }).join(' ') + \" Z\";\n  var mid = midPoint(bounds);\n  return {\n    area: area,\n    dots: dots,\n    name: name,\n    origin: origin,\n    bounds: bounds,\n    mid: mid\n  };\n};\nvar buildWorld = function buildWorld() {\n  // Build the SVG paths describing the individual dots\n  var continents = CONTINENTS.map(buildContinent);\n  var bounds;\n  continents.forEach(function (continent) {\n    bounds = mergeBounds(bounds, continent.bounds);\n  });\n  return {\n    continents: continents,\n    bounds: bounds,\n    x: bounds[0] * FACTOR,\n    y: bounds[1] * FACTOR,\n    width: (bounds[2] - bounds[0] + 1) * FACTOR,\n    height: (bounds[3] - bounds[1] + 2) * FACTOR\n  };\n};\nvar buildInteractiveProps = function buildInteractiveProps(_ref4, activeFunc, active) {\n  var name = _ref4.name,\n    onClick = _ref4.onClick,\n    onHover = _ref4.onHover;\n  return {\n    role: 'button',\n    'aria-label': name,\n    tabIndex: '0',\n    onClick: onClick ? function () {\n      return onClick(name);\n    } : undefined,\n    onMouseOver: function onMouseOver() {\n      if (!active) {\n        activeFunc(name);\n        if (onHover) {\n          onHover(true);\n        }\n      }\n    },\n    onMouseLeave: function onMouseLeave() {\n      if (active) {\n        activeFunc(undefined);\n        if (onHover) {\n          onHover(false);\n        }\n      }\n    },\n    onFocus: function onFocus() {\n      // This moves the map unnecessarily. Instead, we should check\n      // the position and scroll if it isn't already visible\n      // this._worldMapRef.scrollIntoView();\n      if (!active) {\n        activeFunc(name);\n      }\n    },\n    onBlur: function onBlur() {\n      if (active) {\n        activeFunc(undefined);\n      }\n    }\n  };\n};\nvar WorldMap = /*#__PURE__*/forwardRef(function (_ref5, ref) {\n  var fill = _ref5.fill,\n    color = _ref5.color,\n    continentsProp = _ref5.continents,\n    hoverColor = _ref5.hoverColor,\n    onSelectPlace = _ref5.onSelectPlace,\n    placesProp = _ref5.places,\n    rest = _objectWithoutPropertiesLoose(_ref5, _excluded);\n  var theme = React.useContext(ThemeContext);\n  var world = React.useMemo(buildWorld, []);\n  var _React$useState = React.useState({}),\n    continents = _React$useState[0],\n    setContinents = _React$useState[1];\n  React.useEffect(function () {\n    if (continentsProp) {\n      setContinents(continentsProp.reduce(function (obj, continent) {\n        // eslint-disable-next-line no-param-reassign\n        obj[continent.name] = continent;\n        return obj;\n      }, {}));\n    } else setContinents({});\n  }, [continentsProp]);\n  var _React$useState2 = React.useState([]),\n    places = _React$useState2[0],\n    setPlaces = _React$useState2[1];\n  React.useEffect(function () {\n    if (placesProp) {\n      setPlaces(placesProp.map(function (_ref6) {\n        var location = _ref6.location,\n          place = _objectWithoutPropertiesLoose(_ref6, _excluded2);\n        var coords = latLonToCoord(location);\n        return _extends({\n          coords: coords,\n          key: location.join(',')\n        }, place);\n      }));\n    } else setPlaces([]);\n  }, [placesProp, world]);\n  var _React$useState3 = React.useState(),\n    over = _React$useState3[0],\n    setOver = _React$useState3[1];\n  var _React$useState4 = React.useState(),\n    activeCoords = _React$useState4[0],\n    setActiveCoords = _React$useState4[1];\n  var _React$useState5 = React.useState(),\n    activeContinent = _React$useState5[0],\n    setActiveContinent = _React$useState5[1];\n  var _React$useState6 = React.useState(),\n    activePlace = _React$useState6[0],\n    setActivePlace = _React$useState6[1];\n  var containerRef = React.useRef();\n\n  // targets are used for the Drops associated with places content\n  var _React$useState7 = React.useState([]),\n    targets = _React$useState7[0],\n    setTargets = _React$useState7[1];\n  var placeRef = React.useCallback(function (node, index) {\n    setTargets(function (prevTargets) {\n      if (!prevTargets[index]) {\n        var nextTargets = [].concat(prevTargets);\n        nextTargets[index] = node;\n        return nextTargets;\n      }\n      return prevTargets;\n    });\n  }, []);\n  var onMouseMove = React.useCallback(function (event) {\n    // determine the map coordinates for where the mouse is\n    // containerRef uses the group so we can handle aspect ratio scaling\n    var rect = containerRef.current.getBoundingClientRect();\n    // since the SVG viewBox might be scaled\n    var scale = rect.width / world.width;\n    var coords = [Math.round((event.clientX - rect.left) / scale / FACTOR), Math.round((event.clientY - rect.top) / scale / FACTOR)];\n    setActiveCoords(coords);\n  }, [world.width]);\n  var continentElements = world.continents.map(function (_ref7) {\n    var area = _ref7.area,\n      dots = _ref7.dots,\n      name = _ref7.name;\n    var _ref8 = continents[name] || {},\n      continentColor = _ref8.color,\n      onClick = _ref8.onClick,\n      onHover = _ref8.onHover,\n      restContinents = _objectWithoutPropertiesLoose(_ref8, _excluded3);\n    var active = activeContinent && activeContinent === name;\n    var interactiveProps = {};\n    if (onClick || onHover) {\n      interactiveProps = buildInteractiveProps(continents[name], function (activate) {\n        return setActiveContinent(activate);\n      }, active);\n    }\n    return /*#__PURE__*/React.createElement(\"g\", _extends({\n      key: name\n    }, interactiveProps, restContinents), /*#__PURE__*/React.createElement(\"path\", {\n      stroke: \"none\",\n      fill: \"#fff\",\n      fillOpacity: \"0.01\",\n      d: area\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      d: dots,\n      strokeLinecap: \"round\",\n      strokeWidth: parseMetricToNum(theme.worldMap.continent[active ? 'active' : 'base']),\n      stroke: normalizeColor(continentColor || color || theme.worldMap.color, theme)\n    }));\n  });\n  var placesContent = [];\n  var placeElements = places.map(function (place, index) {\n    var placeColor = place.color,\n      coords = place.coords,\n      content = place.content,\n      dropProps = place.dropProps,\n      key = place.key,\n      name = place.name,\n      onClick = place.onClick,\n      onHover = place.onHover,\n      restPlace = _objectWithoutPropertiesLoose(place, _excluded4);\n    var d = \"M\" + FACTOR * coords[0] + \", \" + FACTOR * coords[1] + \" h0\";\n    var active = activePlace && activePlace === name;\n    var interactiveProps = {};\n    if (onClick || onHover) {\n      interactiveProps = buildInteractiveProps(place, function (activate) {\n        return setActivePlace(activate);\n      }, active);\n    }\n    if (content && targets[index]) {\n      placesContent.push( /*#__PURE__*/React.createElement(Drop, _extends({\n        key: key || name\n      }, dropProps, {\n        target: targets[index]\n      }), content));\n    }\n    return /*#__PURE__*/React.createElement(\"path\", _extends({\n      key: key,\n      ref: function ref(node) {\n        return placeRef(node, index);\n      },\n      strokeLinecap: \"round\",\n      strokeWidth: parseMetricToNum(theme.worldMap.place[active ? 'active' : 'base']),\n      stroke: normalizeColor(placeColor || color || theme.worldMap.color, theme)\n    }, interactiveProps, restPlace, {\n      d: d\n    }));\n  });\n\n  // If the caller is interested in onSelectPlace changes, track where the\n  var interactiveProps = {};\n  if (onSelectPlace) {\n    interactiveProps = {\n      onMouseOver: function onMouseOver() {\n        return setOver(true);\n      },\n      onMouseMove: over ? onMouseMove : undefined,\n      onMouseLeave: function onMouseLeave() {\n        setOver(false);\n        setActiveCoords(undefined);\n      }\n    };\n  }\n  var active;\n  if (activeCoords) {\n    var d = \"M\" + FACTOR * activeCoords[0] + \", \" + FACTOR * activeCoords[1] + \" h0\";\n    active = /*#__PURE__*/React.createElement(\"g\", {\n      stroke: \"none\",\n      fill: \"none\",\n      fillRule: \"evenodd\",\n      onClick: function onClick() {\n        return onSelectPlace(coordToLatLon(activeCoords, world.bounds));\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      strokeLinecap: \"round\",\n      strokeWidth: parseMetricToNum(theme.worldMap.place.active),\n      stroke: normalizeColor(hoverColor || color || theme.worldMap.hover.color, theme),\n      d: d\n    }));\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StyledWorldMap, _extends({\n    ref: ref,\n    viewBox: world.x + \" \" + world.y + \" \" + world.width + \" \" + world.height,\n    preserveAspectRatio: \"xMinYMin meet\",\n    fillProp: fill,\n    width: world.width,\n    height: world.height\n  }, interactiveProps, rest), /*#__PURE__*/React.createElement(\"g\", {\n    ref: containerRef,\n    stroke: \"none\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, continentElements), placeElements, active), placesContent);\n});\nWorldMap.displayName = 'WorldMap';\nWorldMap.defaultProps = {};\nObject.setPrototypeOf(WorldMap.defaultProps, defaultProps);\nWorldMap.propTypes = WorldMapPropTypes;\nexport { WorldMap };"],"mappings":"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AAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;AAChJ,CAAC,EAAE;EACDH,IAAI,EAAE,MAAM;EACZC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;EACfC,IAAI,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAC/HC,IAAI,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;AAChzB,CAAC,EAAE;EACDH,IAAI,EAAE,QAAQ;EACdC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;EAChBC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACrFC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;AACxR,CAAC,EAAE;EACDH,IAAI,EAAE,QAAQ;EACdC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;EACfC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAC/EC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,C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AAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,E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"},"metadata":{},"sourceType":"module","externalDependencies":[]}