{"ast":null,"code":"var _excluded = [\"children\", \"defaultValue\", \"value\", \"disabled\", \"focusIndicator\", \"gap\", \"labelKey\", \"valueKey\", \"onChange\", \"options\", \"name\"],\n  _excluded2 = [\"value\"];\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nimport React, { forwardRef, useContext } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { CheckBox } from '../CheckBox';\nimport { FormContext } from '../Form/FormContext';\nimport { StyledCheckBoxGroup } from './StyledCheckBoxGroup';\nimport { CheckBoxGroupPropTypes } from './propTypes';\nvar CheckBoxGroup = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n    defaultValue = _ref.defaultValue,\n    valueProp = _ref.value,\n    disabledProp = _ref.disabled,\n    _ref$focusIndicator = _ref.focusIndicator,\n    focusIndicator = _ref$focusIndicator === void 0 ? true : _ref$focusIndicator,\n    gap = _ref.gap,\n    labelKey = _ref.labelKey,\n    valueKey = _ref.valueKey,\n    onChange = _ref.onChange,\n    optionsProp = _ref.options,\n    name = _ref.name,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var formContext = useContext(FormContext);\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  // In case option is a string, normalize it to be an object\n  var options = optionsProp.map(function (option) {\n    return typeof option === 'string' ? {\n      disabled: disabledProp,\n      value: option,\n      label: option\n    } : option;\n  });\n\n  // 'value' is an array of checked valueKeys\n  var _formContext$useFormI = formContext.useFormInput({\n      name: name,\n      value: valueProp,\n      initialValue: defaultValue || []\n    }),\n    value = _formContext$useFormI[0],\n    setValue = _formContext$useFormI[1];\n\n  // Logic is necessary to maintain a proper data structure for Form logic\n  var onCheckBoxChange = function onCheckBoxChange(event, optionValue, option) {\n    // deep copy of value\n    var nextValue = JSON.parse(JSON.stringify(value)) || [];\n    var optionIndex = nextValue.indexOf(optionValue);\n    // If the value option isn't in the array, add it.\n    // Otherwise, remove it.\n    if (optionIndex < 0) nextValue.push(optionValue);else nextValue.splice(optionIndex, 1);\n    setValue(nextValue);\n    // Similar functionality to Select onChange()\n    if (onChange) {\n      event.persist(); // extract from React synthetic event pool\n      var adjustedEvent = event;\n      adjustedEvent.value = nextValue;\n      adjustedEvent.option = option;\n      onChange(adjustedEvent);\n    }\n  };\n  return /*#__PURE__*/React.createElement(StyledCheckBoxGroup, _extends({\n    ref: ref,\n    role: \"group\"\n  }, theme.checkBoxGroup.container, {\n    gap: gap || (theme.checkBoxGroup.container && theme.checkBoxGroup.container.gap ? theme.checkBoxGroup.container.gap : 'small') // consistent with RadioButtonGroup default\n  }, rest), options.map(function (option, index) {\n    var optionValue = option.value;\n    var label = labelKey ? option[labelKey] : option.label;\n    var valueOption = valueKey ? option[valueKey] : optionValue;\n    var checked = value.indexOf(valueOption) >= 0;\n    var disabled = disabledProp || option.disabled;\n    var key = label + \"-\" + valueOption;\n    if (option.checked) console.warn(\n    // eslint-disable-next-line max-len\n    \"'checked' prop of an individual CheckBox shouldn't be used in a CheckBoxGroup component. Use the CheckBoxGroup 'value' prop instead.\");\n    // value shouldn't propagate the input field and the onChange option\n    var omit = option.value,\n      optionRest = _objectWithoutPropertiesLoose(option, _excluded2);\n    var optionProps = _extends({}, optionRest, {\n      label: label,\n      disabled: disabled\n    });\n    return /*#__PURE__*/React.createElement(CheckBox, _extends({\n      key: key\n    }, optionProps, {\n      disabled: disabled,\n      checked: checked\n      // when contained in a FormField, focusIndicator = false,\n      // so that the FormField has focus style. However, we still\n      // need to visually indicate when a CheckBox is active.\n      // In CheckBox, if focus = true but focusIndicator = false,\n      // we will apply the hover treament.\n      ,\n\n      focusIndicator: focusIndicator,\n      label: label,\n      onChange: function onChange(event) {\n        return onCheckBoxChange(event, valueOption, optionProps);\n      }\n    }), children ? function (state) {\n      return children(options[index], state);\n    } : null);\n  }));\n});\nCheckBoxGroup.displayName = 'CheckBoxGroup';\nCheckBoxGroup.propTypes = CheckBoxGroupPropTypes;\nexport { CheckBoxGroup };","map":{"version":3,"names":["_excluded","_excluded2","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","forwardRef","useContext","ThemeContext","CheckBox","FormContext","StyledCheckBoxGroup","CheckBoxGroupPropTypes","CheckBoxGroup","_ref","ref","children","defaultValue","valueProp","value","disabledProp","disabled","_ref$focusIndicator","focusIndicator","gap","labelKey","valueKey","onChange","optionsProp","options","name","rest","formContext","theme","defaultProps","map","option","label","_formContext$useFormI","useFormInput","initialValue","setValue","onCheckBoxChange","event","optionValue","nextValue","JSON","parse","stringify","optionIndex","push","splice","persist","adjustedEvent","createElement","role","checkBoxGroup","container","index","valueOption","checked","console","warn","omit","optionRest","optionProps","state","displayName","propTypes"],"sources":["C:/Users/malch/OneDrive/Documents/Projects/chucode/node_modules/grommet/es6/components/CheckBoxGroup/CheckBoxGroup.js"],"sourcesContent":["var _excluded = [\"children\", \"defaultValue\", \"value\", \"disabled\", \"focusIndicator\", \"gap\", \"labelKey\", \"valueKey\", \"onChange\", \"options\", \"name\"],\n  _excluded2 = [\"value\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React, { forwardRef, useContext } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { CheckBox } from '../CheckBox';\nimport { FormContext } from '../Form/FormContext';\nimport { StyledCheckBoxGroup } from './StyledCheckBoxGroup';\nimport { CheckBoxGroupPropTypes } from './propTypes';\nvar CheckBoxGroup = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n    defaultValue = _ref.defaultValue,\n    valueProp = _ref.value,\n    disabledProp = _ref.disabled,\n    _ref$focusIndicator = _ref.focusIndicator,\n    focusIndicator = _ref$focusIndicator === void 0 ? true : _ref$focusIndicator,\n    gap = _ref.gap,\n    labelKey = _ref.labelKey,\n    valueKey = _ref.valueKey,\n    onChange = _ref.onChange,\n    optionsProp = _ref.options,\n    name = _ref.name,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var formContext = useContext(FormContext);\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  // In case option is a string, normalize it to be an object\n  var options = optionsProp.map(function (option) {\n    return typeof option === 'string' ? {\n      disabled: disabledProp,\n      value: option,\n      label: option\n    } : option;\n  });\n\n  // 'value' is an array of checked valueKeys\n  var _formContext$useFormI = formContext.useFormInput({\n      name: name,\n      value: valueProp,\n      initialValue: defaultValue || []\n    }),\n    value = _formContext$useFormI[0],\n    setValue = _formContext$useFormI[1];\n\n  // Logic is necessary to maintain a proper data structure for Form logic\n  var onCheckBoxChange = function onCheckBoxChange(event, optionValue, option) {\n    // deep copy of value\n    var nextValue = JSON.parse(JSON.stringify(value)) || [];\n    var optionIndex = nextValue.indexOf(optionValue);\n    // If the value option isn't in the array, add it.\n    // Otherwise, remove it.\n    if (optionIndex < 0) nextValue.push(optionValue);else nextValue.splice(optionIndex, 1);\n    setValue(nextValue);\n    // Similar functionality to Select onChange()\n    if (onChange) {\n      event.persist(); // extract from React synthetic event pool\n      var adjustedEvent = event;\n      adjustedEvent.value = nextValue;\n      adjustedEvent.option = option;\n      onChange(adjustedEvent);\n    }\n  };\n  return /*#__PURE__*/React.createElement(StyledCheckBoxGroup, _extends({\n    ref: ref,\n    role: \"group\"\n  }, theme.checkBoxGroup.container, {\n    gap: gap || (theme.checkBoxGroup.container && theme.checkBoxGroup.container.gap ? theme.checkBoxGroup.container.gap : 'small') // consistent with RadioButtonGroup default\n  }, rest), options.map(function (option, index) {\n    var optionValue = option.value;\n    var label = labelKey ? option[labelKey] : option.label;\n    var valueOption = valueKey ? option[valueKey] : optionValue;\n    var checked = value.indexOf(valueOption) >= 0;\n    var disabled = disabledProp || option.disabled;\n    var key = label + \"-\" + valueOption;\n    if (option.checked) console.warn( // eslint-disable-next-line max-len\n    \"'checked' prop of an individual CheckBox shouldn't be used in a CheckBoxGroup component. Use the CheckBoxGroup 'value' prop instead.\");\n    // value shouldn't propagate the input field and the onChange option\n    var omit = option.value,\n      optionRest = _objectWithoutPropertiesLoose(option, _excluded2);\n    var optionProps = _extends({}, optionRest, {\n      label: label,\n      disabled: disabled\n    });\n    return /*#__PURE__*/React.createElement(CheckBox, _extends({\n      key: key\n    }, optionProps, {\n      disabled: disabled,\n      checked: checked\n      // when contained in a FormField, focusIndicator = false,\n      // so that the FormField has focus style. However, we still\n      // need to visually indicate when a CheckBox is active.\n      // In CheckBox, if focus = true but focusIndicator = false,\n      // we will apply the hover treament.\n      ,\n      focusIndicator: focusIndicator,\n      label: label,\n      onChange: function onChange(event) {\n        return onCheckBoxChange(event, valueOption, optionProps);\n      }\n    }), children ? function (state) {\n      return children(options[index], state);\n    } : null);\n  }));\n});\nCheckBoxGroup.displayName = 'CheckBoxGroup';\nCheckBoxGroup.propTypes = CheckBoxGroupPropTypes;\nexport { CheckBoxGroup };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}