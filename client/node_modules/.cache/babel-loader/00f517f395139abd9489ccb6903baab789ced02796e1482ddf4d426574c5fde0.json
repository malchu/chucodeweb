{"ast":null,"code":"var _excluded = [\"a11yTitle\", \"background\", \"border\", \"confirmRemove\", \"disabled\", \"id\", \"plain\", \"renderFile\", \"maxSize\", \"messages\", \"margin\", \"multiple\", \"name\", \"onChange\", \"pad\", \"value\"];\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nimport React, { forwardRef, useContext, useRef, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { CircleAlert } from 'grommet-icons/icons/CircleAlert';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { defaultProps } from '../../default-props';\nimport { disabledStyle, parseMetricToNum, useForwardedRef } from '../../utils';\nimport { Anchor } from '../Anchor';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { FormContext } from '../Form/FormContext';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { StyledFileInput } from './StyledFileInput';\nimport { FileInputPropTypes } from './propTypes';\nimport { formatBytes } from './utils/formatBytes';\n// We want the interaction of <input type=\"file\" /> but none of its styling.\n// So, we put what we want to show underneath and\n// position the <input /> on top with an opacity of zero.\n// If there are any files selected, we need to show the buttons to remove them.\n// So, we offset the <input /> from the right by the appropriate width.\n// We don't use Stack because of how we need to control the positioning.\n\nvar ContentsBox = styled(Box).withConfig({\n  displayName: \"FileInput__ContentsBox\",\n  componentId: \"sc-1jzq7im-0\"\n})([\"cursor:pointer;position:relative;\", \" \", \";\", \";\", \";\"], function (props) {\n  return props.disabled && disabledStyle();\n}, function (props) {\n  return props.theme.fileInput && props.theme.fileInput.extend;\n}, function (props) {\n  return props.hover && props.theme.fileInput && props.theme.fileInput.hover && props.theme.fileInput.hover.extend;\n}, function (props) {\n  return props.dragOver && props.theme.fileInput && props.theme.fileInput.dragOver && props.theme.fileInput.dragOver.extend;\n});\nvar Label = styled(Text).withConfig({\n  displayName: \"FileInput__Label\",\n  componentId: \"sc-1jzq7im-1\"\n})([\"\", \";\"], function (props) {\n  return props.theme.fileInput && props.theme.fileInput.label && props.theme.fileInput.label.extend;\n});\nvar Message = styled(Text).withConfig({\n  displayName: \"FileInput__Message\",\n  componentId: \"sc-1jzq7im-2\"\n})([\"\", \";\"], function (props) {\n  return props.theme.fileInput && props.theme.fileInput.message && props.theme.fileInput.message.extend;\n});\nvar defaultPendingRemoval = {\n  event: undefined,\n  index: undefined\n};\nvar FileInput = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n    background = _ref.background,\n    border = _ref.border,\n    confirmRemove = _ref.confirmRemove,\n    disabled = _ref.disabled,\n    id = _ref.id,\n    plain = _ref.plain,\n    renderFile = _ref.renderFile,\n    maxSize = _ref.maxSize,\n    messages = _ref.messages,\n    margin = _ref.margin,\n    multiple = _ref.multiple,\n    name = _ref.name,\n    _onChange = _ref.onChange,\n    pad = _ref.pad,\n    valueProp = _ref.value,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var theme = useContext(ThemeContext);\n  var _useContext = useContext(MessageContext),\n    format = _useContext.format;\n  var formContext = useContext(FormContext);\n  var _React$useState = React.useState(),\n    hover = _React$useState[0],\n    setHover = _React$useState[1];\n  var _React$useState2 = React.useState(),\n    dragOver = _React$useState2[0],\n    setDragOver = _React$useState2[1];\n  var _useState = useState(false),\n    showRemoveConfirmation = _useState[0],\n    setShowRemoveConfirmation = _useState[1];\n  var _useState2 = useState(defaultPendingRemoval),\n    pendingRemoval = _useState2[0],\n    setPendingRemoval = _useState2[1];\n  var aggregateThreshold = multiple && multiple.aggregateThreshold || 10;\n  var max = multiple == null ? void 0 : multiple.max;\n  var inputRef = useForwardedRef(ref);\n  var controlRef = useRef();\n  var removeRef = useRef();\n  var ConfirmRemove = confirmRemove;\n  var RemoveIcon = theme.fileInput.icons.remove;\n  var _formContext$useFormI = formContext.useFormInput({\n      name: name,\n      value: valueProp,\n      initialValue: [],\n      validate: [maxSize ? function () {\n        var fileList = [].concat(files);\n        var message = '';\n        var numOfInvalidFiles = fileList.filter(function (_ref2) {\n          var size = _ref2.size;\n          return size > maxSize;\n        }).length;\n        if (numOfInvalidFiles) {\n          var messageId = 'fileInput.maxSizeSingle';\n          if (multiple) {\n            messageId = \"fileInput.maxSizeMultiple.\" + (numOfInvalidFiles === 1 ? 'singular' : 'plural');\n          }\n          message = format({\n            id: messageId,\n            messages: messages,\n            values: {\n              maxSize: formatBytes(maxSize),\n              numOfFiles: numOfInvalidFiles\n            }\n          });\n        }\n        return message;\n      } : '', max ? function () {\n        var fileList = [].concat(files);\n        var message = '';\n        if (fileList.length > max) {\n          message = format({\n            id: 'fileInput.maxFile',\n            messages: messages,\n            values: {\n              max: max\n            }\n          });\n        }\n        return message;\n      } : '']\n    }),\n    files = _formContext$useFormI[0],\n    setFiles = _formContext$useFormI[1];\n  var mergeTheme = function mergeTheme(propertyName, defaultKey) {\n    var result = {};\n    var themeProp = theme.fileInput[propertyName];\n    if (themeProp) if (typeof themeProp !== 'object') {\n      if (defaultKey) result[defaultKey] = themeProp;else result = themeProp;\n    } else result = _extends({}, themeProp);\n    var hoverThemeProp = theme.fileInput.hover[propertyName];\n    if (hover && hoverThemeProp) if (typeof hoverThemeProp !== 'object') {\n      if (defaultKey) result[defaultKey] = hoverThemeProp;else result = hoverThemeProp;\n    } else result = _extends({}, result, hoverThemeProp);\n    var dragOverThemeProp = theme.fileInput.dragOver[propertyName];\n    if (dragOver && dragOverThemeProp) if (typeof dragOverThemeProp !== 'object') {\n      if (defaultKey) result[defaultKey] = dragOverThemeProp;else result = dragOverThemeProp;\n    } else result = _extends({}, result, dragOverThemeProp);\n    return typeof result === 'object' && Object.keys(result).length === 0 ? undefined : result;\n  };\n  var rightPad;\n  if (mergeTheme('pad')) {\n    var _mergeTheme = mergeTheme('pad'),\n      horizontal = _mergeTheme.horizontal,\n      right = _mergeTheme.right;\n    if (right) {\n      rightPad = theme.global.edgeSize[right] || right;\n    } else if (horizontal) {\n      rightPad = theme.global.edgeSize[horizontal] || horizontal;\n    }\n  }\n\n  // rightPad needs to be included in the rightOffset\n  // otherwise input may cover the RemoveButton, making it\n  // unreachable by mouse click.\n  // If browse anchor or button is greater than remove button then\n  // rightoffset will take the larger width\n  var rightOffset;\n  if (removeRef.current && controlRef.current) {\n    var rightOffsetBrowse = controlRef.current.getBoundingClientRect().width;\n    var rightOffsetRemove = removeRef.current.getBoundingClientRect().width;\n    if (rightPad && typeof rightPad === 'string') rightOffset = rightOffsetRemove + parseMetricToNum(rightPad);\n    if (files.length === 1 || files.length > aggregateThreshold) {\n      rightOffset = rightOffsetBrowse + rightOffsetRemove + parseMetricToNum(theme.global.edgeSize.small) * 2;\n    } else if (rightOffsetBrowse > rightOffsetRemove) {\n      rightOffset = rightOffsetBrowse + parseMetricToNum(theme.global.edgeSize.small) * 2;\n    } else rightOffset = rightOffsetRemove;\n  } else if (!files.length && controlRef.current) {\n    rightOffset = controlRef.current.getBoundingClientRect().width + parseMetricToNum(theme.global.edgeSize.small) * 2;\n  }\n\n  // Show the number of files when more than one\n\n  var message;\n  if (!files.length) {\n    message = format({\n      id: multiple ? 'fileInput.dropPromptMultiple' : 'fileInput.dropPrompt',\n      messages: messages\n    });\n  } else message = files.length + \" items\";\n  var removeFile = function removeFile(index) {\n    var nextFiles;\n    if (index === 'all') {\n      nextFiles = [];\n    } else {\n      nextFiles = [].concat(files);\n      nextFiles.splice(index, 1);\n    }\n    setFiles(nextFiles);\n\n    // Need to have a way to track the files other than an array\n    // since inputRef.current.files is a read-only FileList\n    // https://stackoverflow.com/a/64019766\n    /* eslint-disable no-undef */\n    var dt = new DataTransfer();\n    var curFiles = inputRef.current.files;\n    if (index === 'all' || nextFiles.length === 0) inputRef.current.value = '';\n    for (var i = 0; i < curFiles.length; i += 1) {\n      var curfile = curFiles[i];\n      if (index !== i) dt.items.add(curfile);\n    }\n    var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'files').set;\n    nativeInputValueSetter.call(inputRef.current, dt.files);\n    var event = new Event('input', {\n      bubbles: true\n    });\n    inputRef.current.dispatchEvent(event);\n    if (_onChange) _onChange(event, {\n      files: nextFiles\n    });\n    inputRef.current.focus();\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ContentsBox, {\n    theme: theme,\n    flex: false,\n    disabled: disabled,\n    background: mergeTheme('background', 'color'),\n    border: !plain ? mergeTheme('border', 'side') : undefined,\n    margin: mergeTheme('margin'),\n    pad: mergeTheme('pad'),\n    round: mergeTheme('round', 'size'),\n    align: files.length ? 'stretch' : 'center',\n    justify: \"center\",\n    hover: hover,\n    onMouseOver: disabled ? undefined : function () {\n      return setHover(true);\n    },\n    onMouseOut: disabled ? undefined : function () {\n      return setHover(false);\n    },\n    dragOver: dragOver\n  }, (!files.length || files.length > 1) && /*#__PURE__*/React.createElement(Box, {\n    align: \"center\",\n    fill: \"horizontal\",\n    direction: \"row\",\n    justify: \"between\"\n  }, files.length <= aggregateThreshold && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Message, theme.fileInput.message, message), /*#__PURE__*/React.createElement(Keyboard, {\n    onSpace: function onSpace(event) {\n      event.preventDefault();\n      if (controlRef.current === event.target) inputRef.current.click();\n    },\n    onEnter: function onEnter(event) {\n      if (controlRef.current === event.target) inputRef.current.click();\n    }\n  }, theme.fileInput.button ? /*#__PURE__*/React.createElement(Button, {\n    ref: controlRef,\n    kind: theme.fileInput.button,\n    label: format({\n      id: 'fileInput.browse',\n      messages: messages\n    }),\n    onClick: function onClick() {\n      inputRef.current.click();\n      inputRef.current.focus();\n    }\n  }) : /*#__PURE__*/React.createElement(Anchor, {\n    tabIndex: 0,\n    alignSelf: \"center\",\n    ref: controlRef,\n    margin: \"small\",\n    onClick: function onClick() {\n      inputRef.current.click();\n      inputRef.current.focus();\n    },\n    label: format({\n      id: 'fileInput.browse',\n      messages: messages\n    })\n  })))), files.length > aggregateThreshold && /*#__PURE__*/React.createElement(Box, {\n    justify: \"between\",\n    direction: \"row\",\n    align: \"center\"\n  }, /*#__PURE__*/React.createElement(Label, theme.fileInput.label, files.length, ' ', format({\n    id: 'fileInput.files',\n    messages: messages\n  })), /*#__PURE__*/React.createElement(Box, {\n    flex: false,\n    direction: \"row\",\n    align: \"center\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    ref: removeRef,\n    a11yTitle: format({\n      id: 'fileInput.removeAll',\n      messages: messages\n    }),\n    icon: /*#__PURE__*/React.createElement(RemoveIcon, null),\n    hoverIndicator: true,\n    onClick: function onClick(event) {\n      if (confirmRemove) {\n        event.persist(); // necessary for when React < v17\n        setPendingRemoval({\n          event: event,\n          index: 'all'\n        });\n        setShowRemoveConfirmation(true);\n      } else removeFile('all');\n    }\n  }), /*#__PURE__*/React.createElement(Keyboard, {\n    onSpace: function onSpace(event) {\n      if (controlRef.current === event.target) inputRef.current.click();\n    },\n    onEnter: function onEnter(event) {\n      if (controlRef.current === event.target) inputRef.current.click();\n    }\n  }, theme.fileInput.button ? /*#__PURE__*/React.createElement(Button, {\n    ref: controlRef,\n    kind: theme.fileInput.button,\n    label: format({\n      id: 'fileInput.browse',\n      messages: messages\n    }),\n    onClick: function onClick() {\n      inputRef.current.click();\n      inputRef.current.focus();\n    }\n  }) : /*#__PURE__*/React.createElement(Anchor, {\n    tabIndex: 0,\n    alignSelf: \"center\",\n    ref: controlRef,\n    margin: \"small\",\n    onClick: function onClick() {\n      inputRef.current.click();\n      inputRef.current.focus();\n    },\n    label: format({\n      id: 'fileInput.browse',\n      messages: messages\n    })\n  })))), files.length > 0 && files.length <= aggregateThreshold && files.map(function (file, index) {\n    return /*#__PURE__*/React.createElement(Box, {\n      key: file.name,\n      justify: \"between\",\n      direction: \"row\",\n      align: \"center\"\n    }, renderFile ? renderFile(file) : /*#__PURE__*/React.createElement(Box, _extends({}, theme.fileInput.label, {\n      gap: \"xsmall\",\n      align: \"center\",\n      direction: \"row\"\n    }), (maxSize && file.size > maxSize || max && index >= max) && /*#__PURE__*/React.createElement(CircleAlert, null), /*#__PURE__*/React.createElement(Label, {\n      weight: theme.global.input.weight || theme.global.input.font.weight,\n      truncate: true\n    }, file.name)), /*#__PURE__*/React.createElement(Box, {\n      flex: false,\n      direction: \"row\",\n      align: \"center\"\n    }, /*#__PURE__*/React.createElement(Button, {\n      ref: index ? undefined : removeRef,\n      a11yTitle: format({\n        id: 'fileInput.remove',\n        messages: messages\n      }) + \" \" + file.name,\n      icon: /*#__PURE__*/React.createElement(RemoveIcon, null),\n      hoverIndicator: true,\n      onClick: function onClick(event) {\n        if (confirmRemove) {\n          event.persist(); // necessary for when React < v17\n          setPendingRemoval({\n            event: event,\n            index: index\n          });\n          setShowRemoveConfirmation(true);\n        } else removeFile(index);\n      }\n    }), files.length === 1 && /*#__PURE__*/React.createElement(Keyboard, {\n      onSpace: function onSpace(event) {\n        if (controlRef.current === event.target) inputRef.current.click();\n      },\n      onEnter: function onEnter(event) {\n        if (controlRef.current === event.target) inputRef.current.click();\n      }\n    }, theme.fileInput.button ? /*#__PURE__*/React.createElement(Button, {\n      ref: controlRef,\n      kind: theme.fileInput.button,\n      label: format({\n        id: 'fileInput.browse',\n        messages: messages\n      }),\n      onClick: function onClick() {\n        inputRef.current.click();\n        inputRef.current.focus();\n      }\n    }) : /*#__PURE__*/React.createElement(Anchor, {\n      tabIndex: 0,\n      ref: controlRef,\n      margin: \"small\",\n      onClick: function onClick() {\n        inputRef.current.click();\n        inputRef.current.focus();\n      },\n      label: format({\n        id: 'fileInput.browse',\n        messages: messages\n      })\n    }))));\n  }), /*#__PURE__*/React.createElement(StyledFileInput, _extends({\n    ref: inputRef,\n    type: \"file\",\n    id: id,\n    name: name,\n    maxSize: maxSize,\n    multiple: multiple,\n    disabled: disabled,\n    plain: true,\n    rightOffset: rightOffset\n  }, rest, {\n    onDragOver: function onDragOver() {\n      return setDragOver(true);\n    },\n    onDragLeave: function onDragLeave() {\n      return setDragOver(false);\n    },\n    onChange: function onChange(event) {\n      event.persist();\n      var fileList = event.target.files;\n      var nextFiles = multiple ? [].concat(files) : [];\n      var _loop = function _loop(i) {\n        // avoid duplicates\n        var existing = nextFiles.filter(function (file) {\n          return file.name === fileList[i].name && file.size === fileList[i].size;\n        }).length > 0;\n        if (!existing) {\n          nextFiles.push(fileList[i]);\n        }\n      };\n      for (var i = 0; i < fileList.length; i += 1) {\n        _loop(i);\n      }\n      setFiles(nextFiles);\n      setDragOver(false);\n      if (_onChange) _onChange(event, {\n        files: nextFiles\n      });\n    }\n  }))), showRemoveConfirmation && /*#__PURE__*/React.createElement(ConfirmRemove, {\n    onConfirm: function onConfirm() {\n      removeFile(pendingRemoval.index);\n      setPendingRemoval(defaultPendingRemoval);\n      setShowRemoveConfirmation(false);\n    },\n    onCancel: function onCancel() {\n      return setShowRemoveConfirmation(false);\n    }\n  }));\n});\nFileInput.defaultProps = {};\nObject.setPrototypeOf(FileInput.defaultProps, defaultProps);\nFileInput.displayName = 'FileInput';\nFileInput.propTypes = FileInputPropTypes;\nexport { FileInput };","map":{"version":3,"names":["_excluded","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","forwardRef","useContext","useRef","useState","styled","ThemeContext","CircleAlert","MessageContext","defaultProps","disabledStyle","parseMetricToNum","useForwardedRef","Anchor","Box","Button","FormContext","Keyboard","Text","StyledFileInput","FileInputPropTypes","formatBytes","ContentsBox","withConfig","displayName","componentId","props","disabled","theme","fileInput","extend","hover","dragOver","Label","label","Message","message","defaultPendingRemoval","event","undefined","index","FileInput","_ref","ref","a11yTitle","background","border","confirmRemove","id","plain","renderFile","maxSize","messages","margin","multiple","name","_onChange","onChange","pad","valueProp","value","rest","_useContext","format","formContext","_React$useState","setHover","_React$useState2","setDragOver","_useState","showRemoveConfirmation","setShowRemoveConfirmation","_useState2","pendingRemoval","setPendingRemoval","aggregateThreshold","max","inputRef","controlRef","removeRef","ConfirmRemove","RemoveIcon","icons","remove","_formContext$useFormI","useFormInput","initialValue","validate","fileList","concat","files","numOfInvalidFiles","filter","_ref2","size","messageId","values","numOfFiles","setFiles","mergeTheme","propertyName","defaultKey","result","themeProp","hoverThemeProp","dragOverThemeProp","rightPad","_mergeTheme","horizontal","right","global","edgeSize","rightOffset","current","rightOffsetBrowse","getBoundingClientRect","width","rightOffsetRemove","small","removeFile","nextFiles","splice","dt","DataTransfer","curFiles","curfile","items","add","nativeInputValueSetter","getOwnPropertyDescriptor","window","HTMLInputElement","set","Event","bubbles","dispatchEvent","focus","createElement","Fragment","flex","round","align","justify","onMouseOver","onMouseOut","fill","direction","onSpace","preventDefault","click","onEnter","button","kind","onClick","tabIndex","alignSelf","icon","hoverIndicator","persist","map","file","gap","weight","input","font","truncate","type","onDragOver","onDragLeave","_loop","existing","push","onConfirm","onCancel","setPrototypeOf","propTypes"],"sources":["C:/Users/malch/OneDrive/Documents/Projects/chucode/node_modules/grommet/es6/components/FileInput/FileInput.js"],"sourcesContent":["var _excluded = [\"a11yTitle\", \"background\", \"border\", \"confirmRemove\", \"disabled\", \"id\", \"plain\", \"renderFile\", \"maxSize\", \"messages\", \"margin\", \"multiple\", \"name\", \"onChange\", \"pad\", \"value\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React, { forwardRef, useContext, useRef, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { CircleAlert } from 'grommet-icons/icons/CircleAlert';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { defaultProps } from '../../default-props';\nimport { disabledStyle, parseMetricToNum, useForwardedRef } from '../../utils';\nimport { Anchor } from '../Anchor';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { FormContext } from '../Form/FormContext';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { StyledFileInput } from './StyledFileInput';\nimport { FileInputPropTypes } from './propTypes';\nimport { formatBytes } from './utils/formatBytes';\n// We want the interaction of <input type=\"file\" /> but none of its styling.\n// So, we put what we want to show underneath and\n// position the <input /> on top with an opacity of zero.\n// If there are any files selected, we need to show the buttons to remove them.\n// So, we offset the <input /> from the right by the appropriate width.\n// We don't use Stack because of how we need to control the positioning.\n\nvar ContentsBox = styled(Box).withConfig({\n  displayName: \"FileInput__ContentsBox\",\n  componentId: \"sc-1jzq7im-0\"\n})([\"cursor:pointer;position:relative;\", \" \", \";\", \";\", \";\"], function (props) {\n  return props.disabled && disabledStyle();\n}, function (props) {\n  return props.theme.fileInput && props.theme.fileInput.extend;\n}, function (props) {\n  return props.hover && props.theme.fileInput && props.theme.fileInput.hover && props.theme.fileInput.hover.extend;\n}, function (props) {\n  return props.dragOver && props.theme.fileInput && props.theme.fileInput.dragOver && props.theme.fileInput.dragOver.extend;\n});\nvar Label = styled(Text).withConfig({\n  displayName: \"FileInput__Label\",\n  componentId: \"sc-1jzq7im-1\"\n})([\"\", \";\"], function (props) {\n  return props.theme.fileInput && props.theme.fileInput.label && props.theme.fileInput.label.extend;\n});\nvar Message = styled(Text).withConfig({\n  displayName: \"FileInput__Message\",\n  componentId: \"sc-1jzq7im-2\"\n})([\"\", \";\"], function (props) {\n  return props.theme.fileInput && props.theme.fileInput.message && props.theme.fileInput.message.extend;\n});\nvar defaultPendingRemoval = {\n  event: undefined,\n  index: undefined\n};\nvar FileInput = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n    background = _ref.background,\n    border = _ref.border,\n    confirmRemove = _ref.confirmRemove,\n    disabled = _ref.disabled,\n    id = _ref.id,\n    plain = _ref.plain,\n    renderFile = _ref.renderFile,\n    maxSize = _ref.maxSize,\n    messages = _ref.messages,\n    margin = _ref.margin,\n    multiple = _ref.multiple,\n    name = _ref.name,\n    _onChange = _ref.onChange,\n    pad = _ref.pad,\n    valueProp = _ref.value,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var theme = useContext(ThemeContext);\n  var _useContext = useContext(MessageContext),\n    format = _useContext.format;\n  var formContext = useContext(FormContext);\n  var _React$useState = React.useState(),\n    hover = _React$useState[0],\n    setHover = _React$useState[1];\n  var _React$useState2 = React.useState(),\n    dragOver = _React$useState2[0],\n    setDragOver = _React$useState2[1];\n  var _useState = useState(false),\n    showRemoveConfirmation = _useState[0],\n    setShowRemoveConfirmation = _useState[1];\n  var _useState2 = useState(defaultPendingRemoval),\n    pendingRemoval = _useState2[0],\n    setPendingRemoval = _useState2[1];\n  var aggregateThreshold = multiple && multiple.aggregateThreshold || 10;\n  var max = multiple == null ? void 0 : multiple.max;\n  var inputRef = useForwardedRef(ref);\n  var controlRef = useRef();\n  var removeRef = useRef();\n  var ConfirmRemove = confirmRemove;\n  var RemoveIcon = theme.fileInput.icons.remove;\n  var _formContext$useFormI = formContext.useFormInput({\n      name: name,\n      value: valueProp,\n      initialValue: [],\n      validate: [maxSize ? function () {\n        var fileList = [].concat(files);\n        var message = '';\n        var numOfInvalidFiles = fileList.filter(function (_ref2) {\n          var size = _ref2.size;\n          return size > maxSize;\n        }).length;\n        if (numOfInvalidFiles) {\n          var messageId = 'fileInput.maxSizeSingle';\n          if (multiple) {\n            messageId = \"fileInput.maxSizeMultiple.\" + (numOfInvalidFiles === 1 ? 'singular' : 'plural');\n          }\n          message = format({\n            id: messageId,\n            messages: messages,\n            values: {\n              maxSize: formatBytes(maxSize),\n              numOfFiles: numOfInvalidFiles\n            }\n          });\n        }\n        return message;\n      } : '', max ? function () {\n        var fileList = [].concat(files);\n        var message = '';\n        if (fileList.length > max) {\n          message = format({\n            id: 'fileInput.maxFile',\n            messages: messages,\n            values: {\n              max: max\n            }\n          });\n        }\n        return message;\n      } : '']\n    }),\n    files = _formContext$useFormI[0],\n    setFiles = _formContext$useFormI[1];\n  var mergeTheme = function mergeTheme(propertyName, defaultKey) {\n    var result = {};\n    var themeProp = theme.fileInput[propertyName];\n    if (themeProp) if (typeof themeProp !== 'object') {\n      if (defaultKey) result[defaultKey] = themeProp;else result = themeProp;\n    } else result = _extends({}, themeProp);\n    var hoverThemeProp = theme.fileInput.hover[propertyName];\n    if (hover && hoverThemeProp) if (typeof hoverThemeProp !== 'object') {\n      if (defaultKey) result[defaultKey] = hoverThemeProp;else result = hoverThemeProp;\n    } else result = _extends({}, result, hoverThemeProp);\n    var dragOverThemeProp = theme.fileInput.dragOver[propertyName];\n    if (dragOver && dragOverThemeProp) if (typeof dragOverThemeProp !== 'object') {\n      if (defaultKey) result[defaultKey] = dragOverThemeProp;else result = dragOverThemeProp;\n    } else result = _extends({}, result, dragOverThemeProp);\n    return typeof result === 'object' && Object.keys(result).length === 0 ? undefined : result;\n  };\n  var rightPad;\n  if (mergeTheme('pad')) {\n    var _mergeTheme = mergeTheme('pad'),\n      horizontal = _mergeTheme.horizontal,\n      right = _mergeTheme.right;\n    if (right) {\n      rightPad = theme.global.edgeSize[right] || right;\n    } else if (horizontal) {\n      rightPad = theme.global.edgeSize[horizontal] || horizontal;\n    }\n  }\n\n  // rightPad needs to be included in the rightOffset\n  // otherwise input may cover the RemoveButton, making it\n  // unreachable by mouse click.\n  // If browse anchor or button is greater than remove button then\n  // rightoffset will take the larger width\n  var rightOffset;\n  if (removeRef.current && controlRef.current) {\n    var rightOffsetBrowse = controlRef.current.getBoundingClientRect().width;\n    var rightOffsetRemove = removeRef.current.getBoundingClientRect().width;\n    if (rightPad && typeof rightPad === 'string') rightOffset = rightOffsetRemove + parseMetricToNum(rightPad);\n    if (files.length === 1 || files.length > aggregateThreshold) {\n      rightOffset = rightOffsetBrowse + rightOffsetRemove + parseMetricToNum(theme.global.edgeSize.small) * 2;\n    } else if (rightOffsetBrowse > rightOffsetRemove) {\n      rightOffset = rightOffsetBrowse + parseMetricToNum(theme.global.edgeSize.small) * 2;\n    } else rightOffset = rightOffsetRemove;\n  } else if (!files.length && controlRef.current) {\n    rightOffset = controlRef.current.getBoundingClientRect().width + parseMetricToNum(theme.global.edgeSize.small) * 2;\n  }\n\n  // Show the number of files when more than one\n\n  var message;\n  if (!files.length) {\n    message = format({\n      id: multiple ? 'fileInput.dropPromptMultiple' : 'fileInput.dropPrompt',\n      messages: messages\n    });\n  } else message = files.length + \" items\";\n  var removeFile = function removeFile(index) {\n    var nextFiles;\n    if (index === 'all') {\n      nextFiles = [];\n    } else {\n      nextFiles = [].concat(files);\n      nextFiles.splice(index, 1);\n    }\n    setFiles(nextFiles);\n\n    // Need to have a way to track the files other than an array\n    // since inputRef.current.files is a read-only FileList\n    // https://stackoverflow.com/a/64019766\n    /* eslint-disable no-undef */\n    var dt = new DataTransfer();\n    var curFiles = inputRef.current.files;\n    if (index === 'all' || nextFiles.length === 0) inputRef.current.value = '';\n    for (var i = 0; i < curFiles.length; i += 1) {\n      var curfile = curFiles[i];\n      if (index !== i) dt.items.add(curfile);\n    }\n    var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'files').set;\n    nativeInputValueSetter.call(inputRef.current, dt.files);\n    var event = new Event('input', {\n      bubbles: true\n    });\n    inputRef.current.dispatchEvent(event);\n    if (_onChange) _onChange(event, {\n      files: nextFiles\n    });\n    inputRef.current.focus();\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ContentsBox, {\n    theme: theme,\n    flex: false,\n    disabled: disabled,\n    background: mergeTheme('background', 'color'),\n    border: !plain ? mergeTheme('border', 'side') : undefined,\n    margin: mergeTheme('margin'),\n    pad: mergeTheme('pad'),\n    round: mergeTheme('round', 'size'),\n    align: files.length ? 'stretch' : 'center',\n    justify: \"center\",\n    hover: hover,\n    onMouseOver: disabled ? undefined : function () {\n      return setHover(true);\n    },\n    onMouseOut: disabled ? undefined : function () {\n      return setHover(false);\n    },\n    dragOver: dragOver\n  }, (!files.length || files.length > 1) && /*#__PURE__*/React.createElement(Box, {\n    align: \"center\",\n    fill: \"horizontal\",\n    direction: \"row\",\n    justify: \"between\"\n  }, files.length <= aggregateThreshold && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Message, theme.fileInput.message, message), /*#__PURE__*/React.createElement(Keyboard, {\n    onSpace: function onSpace(event) {\n      event.preventDefault();\n      if (controlRef.current === event.target) inputRef.current.click();\n    },\n    onEnter: function onEnter(event) {\n      if (controlRef.current === event.target) inputRef.current.click();\n    }\n  }, theme.fileInput.button ? /*#__PURE__*/React.createElement(Button, {\n    ref: controlRef,\n    kind: theme.fileInput.button,\n    label: format({\n      id: 'fileInput.browse',\n      messages: messages\n    }),\n    onClick: function onClick() {\n      inputRef.current.click();\n      inputRef.current.focus();\n    }\n  }) : /*#__PURE__*/React.createElement(Anchor, {\n    tabIndex: 0,\n    alignSelf: \"center\",\n    ref: controlRef,\n    margin: \"small\",\n    onClick: function onClick() {\n      inputRef.current.click();\n      inputRef.current.focus();\n    },\n    label: format({\n      id: 'fileInput.browse',\n      messages: messages\n    })\n  })))), files.length > aggregateThreshold && /*#__PURE__*/React.createElement(Box, {\n    justify: \"between\",\n    direction: \"row\",\n    align: \"center\"\n  }, /*#__PURE__*/React.createElement(Label, theme.fileInput.label, files.length, ' ', format({\n    id: 'fileInput.files',\n    messages: messages\n  })), /*#__PURE__*/React.createElement(Box, {\n    flex: false,\n    direction: \"row\",\n    align: \"center\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    ref: removeRef,\n    a11yTitle: format({\n      id: 'fileInput.removeAll',\n      messages: messages\n    }),\n    icon: /*#__PURE__*/React.createElement(RemoveIcon, null),\n    hoverIndicator: true,\n    onClick: function onClick(event) {\n      if (confirmRemove) {\n        event.persist(); // necessary for when React < v17\n        setPendingRemoval({\n          event: event,\n          index: 'all'\n        });\n        setShowRemoveConfirmation(true);\n      } else removeFile('all');\n    }\n  }), /*#__PURE__*/React.createElement(Keyboard, {\n    onSpace: function onSpace(event) {\n      if (controlRef.current === event.target) inputRef.current.click();\n    },\n    onEnter: function onEnter(event) {\n      if (controlRef.current === event.target) inputRef.current.click();\n    }\n  }, theme.fileInput.button ? /*#__PURE__*/React.createElement(Button, {\n    ref: controlRef,\n    kind: theme.fileInput.button,\n    label: format({\n      id: 'fileInput.browse',\n      messages: messages\n    }),\n    onClick: function onClick() {\n      inputRef.current.click();\n      inputRef.current.focus();\n    }\n  }) : /*#__PURE__*/React.createElement(Anchor, {\n    tabIndex: 0,\n    alignSelf: \"center\",\n    ref: controlRef,\n    margin: \"small\",\n    onClick: function onClick() {\n      inputRef.current.click();\n      inputRef.current.focus();\n    },\n    label: format({\n      id: 'fileInput.browse',\n      messages: messages\n    })\n  })))), files.length > 0 && files.length <= aggregateThreshold && files.map(function (file, index) {\n    return /*#__PURE__*/React.createElement(Box, {\n      key: file.name,\n      justify: \"between\",\n      direction: \"row\",\n      align: \"center\"\n    }, renderFile ? renderFile(file) : /*#__PURE__*/React.createElement(Box, _extends({}, theme.fileInput.label, {\n      gap: \"xsmall\",\n      align: \"center\",\n      direction: \"row\"\n    }), (maxSize && file.size > maxSize || max && index >= max) && /*#__PURE__*/React.createElement(CircleAlert, null), /*#__PURE__*/React.createElement(Label, {\n      weight: theme.global.input.weight || theme.global.input.font.weight,\n      truncate: true\n    }, file.name)), /*#__PURE__*/React.createElement(Box, {\n      flex: false,\n      direction: \"row\",\n      align: \"center\"\n    }, /*#__PURE__*/React.createElement(Button, {\n      ref: index ? undefined : removeRef,\n      a11yTitle: format({\n        id: 'fileInput.remove',\n        messages: messages\n      }) + \" \" + file.name,\n      icon: /*#__PURE__*/React.createElement(RemoveIcon, null),\n      hoverIndicator: true,\n      onClick: function onClick(event) {\n        if (confirmRemove) {\n          event.persist(); // necessary for when React < v17\n          setPendingRemoval({\n            event: event,\n            index: index\n          });\n          setShowRemoveConfirmation(true);\n        } else removeFile(index);\n      }\n    }), files.length === 1 && /*#__PURE__*/React.createElement(Keyboard, {\n      onSpace: function onSpace(event) {\n        if (controlRef.current === event.target) inputRef.current.click();\n      },\n      onEnter: function onEnter(event) {\n        if (controlRef.current === event.target) inputRef.current.click();\n      }\n    }, theme.fileInput.button ? /*#__PURE__*/React.createElement(Button, {\n      ref: controlRef,\n      kind: theme.fileInput.button,\n      label: format({\n        id: 'fileInput.browse',\n        messages: messages\n      }),\n      onClick: function onClick() {\n        inputRef.current.click();\n        inputRef.current.focus();\n      }\n    }) : /*#__PURE__*/React.createElement(Anchor, {\n      tabIndex: 0,\n      ref: controlRef,\n      margin: \"small\",\n      onClick: function onClick() {\n        inputRef.current.click();\n        inputRef.current.focus();\n      },\n      label: format({\n        id: 'fileInput.browse',\n        messages: messages\n      })\n    }))));\n  }), /*#__PURE__*/React.createElement(StyledFileInput, _extends({\n    ref: inputRef,\n    type: \"file\",\n    id: id,\n    name: name,\n    maxSize: maxSize,\n    multiple: multiple,\n    disabled: disabled,\n    plain: true,\n    rightOffset: rightOffset\n  }, rest, {\n    onDragOver: function onDragOver() {\n      return setDragOver(true);\n    },\n    onDragLeave: function onDragLeave() {\n      return setDragOver(false);\n    },\n    onChange: function onChange(event) {\n      event.persist();\n      var fileList = event.target.files;\n      var nextFiles = multiple ? [].concat(files) : [];\n      var _loop = function _loop(i) {\n        // avoid duplicates\n        var existing = nextFiles.filter(function (file) {\n          return file.name === fileList[i].name && file.size === fileList[i].size;\n        }).length > 0;\n        if (!existing) {\n          nextFiles.push(fileList[i]);\n        }\n      };\n      for (var i = 0; i < fileList.length; i += 1) {\n        _loop(i);\n      }\n      setFiles(nextFiles);\n      setDragOver(false);\n      if (_onChange) _onChange(event, {\n        files: nextFiles\n      });\n    }\n  }))), showRemoveConfirmation && /*#__PURE__*/React.createElement(ConfirmRemove, {\n    onConfirm: function onConfirm() {\n      removeFile(pendingRemoval.index);\n      setPendingRemoval(defaultPendingRemoval);\n      setShowRemoveConfirmation(false);\n    },\n    onCancel: function onCancel() {\n      return setShowRemoveConfirmation(false);\n    }\n  }));\n});\nFileInput.defaultProps = {};\nObject.setPrototypeOf(FileInput.defaultProps, defaultProps);\nFileInput.displayName = 'FileInput';\nFileInput.propTypes = FileInputPropTypes;\nexport { FileInput };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}