{"ast":null,"code":"import React, { useCallback } from 'react';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Text } from '../Text';\nimport { applyKey, getOptionValue, useDisabled, arrayIncludes } from '../Select/utils';\nvar SelectionSummary = function SelectionSummary(_ref) {\n  var allOptions = _ref.allOptions,\n    clearRef = _ref.clearRef,\n    disabled = _ref.disabled,\n    disabledKey = _ref.disabledKey,\n    isSelected = _ref.isSelected,\n    labelKey = _ref.labelKey,\n    limit = _ref.limit,\n    onChange = _ref.onChange,\n    onMore = _ref.onMore,\n    options = _ref.options,\n    search = _ref.search,\n    setActiveIndex = _ref.setActiveIndex,\n    showSelectedInline = _ref.showSelectedInline,\n    value = _ref.value,\n    valueKey = _ref.valueKey;\n  var isDisabled = useDisabled(disabled, disabledKey, options, valueKey || labelKey);\n  var selectedValuesDisabled = useCallback(function () {\n    var disabledSelected = 0;\n    if (value) {\n      for (var i = 0; i < allOptions.length; i += 1) {\n        if (arrayIncludes(value, getOptionValue(i, options, valueKey || labelKey), valueKey || labelKey) && isDisabled(i)) disabledSelected += 1;\n      }\n      if (value.length === disabledSelected) return true;\n    }\n    return false;\n  }, [value, allOptions, options, valueKey, labelKey, isDisabled]);\n  var selectedInSearch = useCallback(function () {\n    return options == null ? void 0 : options.filter(function (option) {\n      return arrayIncludes(value, option, valueKey || labelKey);\n    });\n  }, [options, value, valueKey, labelKey]);\n  var showSelectAll = !!((value == null ? void 0 : value.length) === 0 || selectedValuesDisabled() || !value || selectedInSearch().length === 0);\n  var summaryText = (value == null ? void 0 : value.length) === 0 || onMore || !value || search !== '' && search !== undefined ? ((value == null ? void 0 : value.length) || 0) + \" selected\" : ((value == null ? void 0 : value.length) || 0) + \" selected of \" + options.length;\n  var summaryButtonClick = function summaryButtonClick(event) {\n    if (onChange) {\n      var nextSelected = options.filter(function (i, index) {\n        return showSelectAll ? !isDisabled(index) || isSelected(index) : isDisabled(index) && isSelected(index);\n      });\n      if (search !== '' && search !== undefined && value) {\n        if (showSelectAll) {\n          nextSelected = nextSelected.concat(value);\n        } else {\n          value.forEach(function (item) {\n            if (!arrayIncludes(options, item, valueKey || labelKey)) {\n              nextSelected.push(item);\n            }\n          });\n        }\n      }\n      var nextValue = nextSelected.map(function (i) {\n        return valueKey && valueKey.reduce ? applyKey(i, valueKey) : i;\n      });\n      onChange(event, {\n        option: options,\n        value: nextValue,\n        selected: nextSelected\n      });\n    }\n    if (limit && !showSelectAll) setActiveIndex(0);\n  };\n  return /*#__PURE__*/React.createElement(Box, {\n    pad: showSelectedInline ? {\n      left: 'xsmall',\n      vertical: 'xsmall'\n    } : 'xsmall',\n    direction: \"row\",\n    justify: \"between\",\n    gap: \"small\",\n    fill: \"horizontal\",\n    flex: showSelectedInline,\n    align: \"center\",\n    height: {\n      min: 'xxsmall'\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    size: \"small\"\n  }, summaryText), (options.length && (!limit || !(!value || (value == null ? void 0 : value.length) === 0 && selectedValuesDisabled()))) > 0 && (!onMore || onMore && (value == null ? void 0 : value.length) !== 0) && /*#__PURE__*/React.createElement(Button, {\n    a11yTitle: showSelectAll ? \"Select all \" + options.length + \" options\" : (value == null ? void 0 : value.length) + \" options selected. Clear all?\",\n    label: showSelectAll ? 'Select All' : 'Clear All',\n    onClick: function onClick(event) {\n      return summaryButtonClick(event);\n    },\n    onFocus: function onFocus() {\n      return setActiveIndex(-1);\n    },\n    ref: clearRef\n  }));\n};\nexport { SelectionSummary };","map":{"version":3,"names":["React","useCallback","Box","Button","Text","applyKey","getOptionValue","useDisabled","arrayIncludes","SelectionSummary","_ref","allOptions","clearRef","disabled","disabledKey","isSelected","labelKey","limit","onChange","onMore","options","search","setActiveIndex","showSelectedInline","value","valueKey","isDisabled","selectedValuesDisabled","disabledSelected","i","length","selectedInSearch","filter","option","showSelectAll","summaryText","undefined","summaryButtonClick","event","nextSelected","index","concat","forEach","item","push","nextValue","map","reduce","selected","createElement","pad","left","vertical","direction","justify","gap","fill","flex","align","height","min","size","a11yTitle","label","onClick","onFocus","ref"],"sources":["C:/Users/malch/OneDrive/Documents/Projects/chucode/node_modules/grommet/es6/components/SelectMultiple/SelectionSummary.js"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Text } from '../Text';\nimport { applyKey, getOptionValue, useDisabled, arrayIncludes } from '../Select/utils';\nvar SelectionSummary = function SelectionSummary(_ref) {\n  var allOptions = _ref.allOptions,\n    clearRef = _ref.clearRef,\n    disabled = _ref.disabled,\n    disabledKey = _ref.disabledKey,\n    isSelected = _ref.isSelected,\n    labelKey = _ref.labelKey,\n    limit = _ref.limit,\n    onChange = _ref.onChange,\n    onMore = _ref.onMore,\n    options = _ref.options,\n    search = _ref.search,\n    setActiveIndex = _ref.setActiveIndex,\n    showSelectedInline = _ref.showSelectedInline,\n    value = _ref.value,\n    valueKey = _ref.valueKey;\n  var isDisabled = useDisabled(disabled, disabledKey, options, valueKey || labelKey);\n  var selectedValuesDisabled = useCallback(function () {\n    var disabledSelected = 0;\n    if (value) {\n      for (var i = 0; i < allOptions.length; i += 1) {\n        if (arrayIncludes(value, getOptionValue(i, options, valueKey || labelKey), valueKey || labelKey) && isDisabled(i)) disabledSelected += 1;\n      }\n      if (value.length === disabledSelected) return true;\n    }\n    return false;\n  }, [value, allOptions, options, valueKey, labelKey, isDisabled]);\n  var selectedInSearch = useCallback(function () {\n    return options == null ? void 0 : options.filter(function (option) {\n      return arrayIncludes(value, option, valueKey || labelKey);\n    });\n  }, [options, value, valueKey, labelKey]);\n  var showSelectAll = !!((value == null ? void 0 : value.length) === 0 || selectedValuesDisabled() || !value || selectedInSearch().length === 0);\n  var summaryText = (value == null ? void 0 : value.length) === 0 || onMore || !value || search !== '' && search !== undefined ? ((value == null ? void 0 : value.length) || 0) + \" selected\" : ((value == null ? void 0 : value.length) || 0) + \" selected of \" + options.length;\n  var summaryButtonClick = function summaryButtonClick(event) {\n    if (onChange) {\n      var nextSelected = options.filter(function (i, index) {\n        return showSelectAll ? !isDisabled(index) || isSelected(index) : isDisabled(index) && isSelected(index);\n      });\n      if (search !== '' && search !== undefined && value) {\n        if (showSelectAll) {\n          nextSelected = nextSelected.concat(value);\n        } else {\n          value.forEach(function (item) {\n            if (!arrayIncludes(options, item, valueKey || labelKey)) {\n              nextSelected.push(item);\n            }\n          });\n        }\n      }\n      var nextValue = nextSelected.map(function (i) {\n        return valueKey && valueKey.reduce ? applyKey(i, valueKey) : i;\n      });\n      onChange(event, {\n        option: options,\n        value: nextValue,\n        selected: nextSelected\n      });\n    }\n    if (limit && !showSelectAll) setActiveIndex(0);\n  };\n  return /*#__PURE__*/React.createElement(Box, {\n    pad: showSelectedInline ? {\n      left: 'xsmall',\n      vertical: 'xsmall'\n    } : 'xsmall',\n    direction: \"row\",\n    justify: \"between\",\n    gap: \"small\",\n    fill: \"horizontal\",\n    flex: showSelectedInline,\n    align: \"center\",\n    height: {\n      min: 'xxsmall'\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    size: \"small\"\n  }, summaryText), (options.length && (!limit || !(!value || (value == null ? void 0 : value.length) === 0 && selectedValuesDisabled()))) > 0 && (!onMore || onMore && (value == null ? void 0 : value.length) !== 0) && /*#__PURE__*/React.createElement(Button, {\n    a11yTitle: showSelectAll ? \"Select all \" + options.length + \" options\" : (value == null ? void 0 : value.length) + \" options selected. Clear all?\",\n    label: showSelectAll ? 'Select All' : 'Clear All',\n    onClick: function onClick(event) {\n      return summaryButtonClick(event);\n    },\n    onFocus: function onFocus() {\n      return setActiveIndex(-1);\n    },\n    ref: clearRef\n  }));\n};\nexport { SelectionSummary };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}