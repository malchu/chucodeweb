{"ast":null,"code":"import { useCallback } from 'react';\nimport { normalizeColor } from '../../utils';\nexport var applyKey = function applyKey(option, key) {\n  if (option === undefined || option === null) return undefined;\n  if (typeof key === 'object') return applyKey(option, key.key);\n  if (typeof key === 'function') return key(option);\n  if (key !== undefined && typeof option === 'object') return option[key];\n  if (typeof option === 'object' && Object.keys(option)) return option[Object.keys(option)[0]];\n  return option;\n};\nexport var getOptionLabel = function getOptionLabel(index, options, labelKey) {\n  return applyKey(options[index], labelKey);\n};\nexport var getOptionValue = function getOptionValue(index, options, valueKey) {\n  return applyKey(options[index], valueKey);\n};\nexport var getOptionIndex = function getOptionIndex(options, i, valueKey) {\n  if (options) {\n    if (typeof i === 'object') return options.findIndex(function (x) {\n      return applyKey(x, valueKey) === applyKey(i, valueKey);\n    });\n    return options.indexOf(i);\n  }\n  return undefined;\n};\nexport var arrayIncludes = function arrayIncludes(arr, i, valueKey) {\n  if (arr) {\n    if (typeof i === 'object') return arr.some(function (x) {\n      return applyKey(x, valueKey) === applyKey(i, valueKey);\n    });\n    return arr.includes(i);\n  }\n  return undefined;\n};\nexport var useDisabled = function useDisabled(disabled, disabledKey, options, valueKey) {\n  return useCallback(function (index) {\n    var option = options[index];\n    var result;\n    if (disabledKey) {\n      result = applyKey(option, disabledKey);\n    } else if (Array.isArray(disabled)) {\n      if (typeof disabled[0] === 'number') {\n        result = disabled.indexOf(index) !== -1;\n      } else {\n        var optionVal = getOptionValue(index, options, valueKey);\n        result = getOptionIndex(disabled, options[index], valueKey) !== -1 || getOptionIndex(disabled, optionVal, valueKey) !== -1;\n      }\n    }\n    return result;\n  }, [disabled, disabledKey, options, valueKey]);\n};\nexport var getNormalizedValue = function getNormalizedValue(value, valueKey) {\n  if (Array.isArray(value)) return value.map(function (v) {\n    return valueKey && valueKey.reduce ? v : applyKey(v, valueKey);\n  });\n  return valueKey && valueKey.reduce ? value : applyKey(value, valueKey);\n};\nexport var changeEvent = function changeEvent(inputRef, nextValue) {\n  // Calling set value function directly on input because React library\n  // overrides setter `event.target.value =` and loses original event\n  // target fidelity.\n  // https://stackoverflow.com/a/46012210\n  var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'value').set;\n  nativeInputValueSetter.call(inputRef.current, nextValue);\n  var event = new Event('input', {\n    bubbles: true\n  });\n  inputRef.current.dispatchEvent(event);\n};\nexport var getSelectIcon = function getSelectIcon(icon, theme, open) {\n  var SelectIcon;\n  switch (icon) {\n    case false:\n      break;\n    case true:\n    case undefined:\n      SelectIcon = open && theme.select.icons.up ? theme.select.icons.up : theme.select.icons.down;\n      break;\n    default:\n      SelectIcon = icon;\n  }\n  return SelectIcon;\n};\n\n// if labelKey is a function and valueLabel is not defined\n// we should use the labelKey function to display the\n// selected value\nexport var getDisplayLabelKey = function getDisplayLabelKey(labelKey, allOptions, optionIndexesInValue, selectValue) {\n  var optionLabelKey = applyKey(allOptions[optionIndexesInValue[0]], labelKey);\n  if (!selectValue && optionIndexesInValue.length === 1 && typeof optionLabelKey === 'object') return optionLabelKey;\n  return undefined;\n};\nexport var getIconColor = function getIconColor(theme) {\n  return normalizeColor(theme.select.icons.color || 'control', theme);\n};","map":{"version":3,"names":["useCallback","normalizeColor","applyKey","option","key","undefined","Object","keys","getOptionLabel","index","options","labelKey","getOptionValue","valueKey","getOptionIndex","i","findIndex","x","indexOf","arrayIncludes","arr","some","includes","useDisabled","disabled","disabledKey","result","Array","isArray","optionVal","getNormalizedValue","value","map","v","reduce","changeEvent","inputRef","nextValue","nativeInputValueSetter","getOwnPropertyDescriptor","window","HTMLInputElement","prototype","set","call","current","event","Event","bubbles","dispatchEvent","getSelectIcon","icon","theme","open","SelectIcon","select","icons","up","down","getDisplayLabelKey","allOptions","optionIndexesInValue","selectValue","optionLabelKey","length","getIconColor","color"],"sources":["C:/Users/malch/OneDrive/Documents/Projects/chucode/node_modules/grommet/es6/components/Select/utils.js"],"sourcesContent":["import { useCallback } from 'react';\nimport { normalizeColor } from '../../utils';\nexport var applyKey = function applyKey(option, key) {\n  if (option === undefined || option === null) return undefined;\n  if (typeof key === 'object') return applyKey(option, key.key);\n  if (typeof key === 'function') return key(option);\n  if (key !== undefined && typeof option === 'object') return option[key];\n  if (typeof option === 'object' && Object.keys(option)) return option[Object.keys(option)[0]];\n  return option;\n};\nexport var getOptionLabel = function getOptionLabel(index, options, labelKey) {\n  return applyKey(options[index], labelKey);\n};\nexport var getOptionValue = function getOptionValue(index, options, valueKey) {\n  return applyKey(options[index], valueKey);\n};\nexport var getOptionIndex = function getOptionIndex(options, i, valueKey) {\n  if (options) {\n    if (typeof i === 'object') return options.findIndex(function (x) {\n      return applyKey(x, valueKey) === applyKey(i, valueKey);\n    });\n    return options.indexOf(i);\n  }\n  return undefined;\n};\nexport var arrayIncludes = function arrayIncludes(arr, i, valueKey) {\n  if (arr) {\n    if (typeof i === 'object') return arr.some(function (x) {\n      return applyKey(x, valueKey) === applyKey(i, valueKey);\n    });\n    return arr.includes(i);\n  }\n  return undefined;\n};\nexport var useDisabled = function useDisabled(disabled, disabledKey, options, valueKey) {\n  return useCallback(function (index) {\n    var option = options[index];\n    var result;\n    if (disabledKey) {\n      result = applyKey(option, disabledKey);\n    } else if (Array.isArray(disabled)) {\n      if (typeof disabled[0] === 'number') {\n        result = disabled.indexOf(index) !== -1;\n      } else {\n        var optionVal = getOptionValue(index, options, valueKey);\n        result = getOptionIndex(disabled, options[index], valueKey) !== -1 || getOptionIndex(disabled, optionVal, valueKey) !== -1;\n      }\n    }\n    return result;\n  }, [disabled, disabledKey, options, valueKey]);\n};\nexport var getNormalizedValue = function getNormalizedValue(value, valueKey) {\n  if (Array.isArray(value)) return value.map(function (v) {\n    return valueKey && valueKey.reduce ? v : applyKey(v, valueKey);\n  });\n  return valueKey && valueKey.reduce ? value : applyKey(value, valueKey);\n};\nexport var changeEvent = function changeEvent(inputRef, nextValue) {\n  // Calling set value function directly on input because React library\n  // overrides setter `event.target.value =` and loses original event\n  // target fidelity.\n  // https://stackoverflow.com/a/46012210\n  var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'value').set;\n  nativeInputValueSetter.call(inputRef.current, nextValue);\n  var event = new Event('input', {\n    bubbles: true\n  });\n  inputRef.current.dispatchEvent(event);\n};\nexport var getSelectIcon = function getSelectIcon(icon, theme, open) {\n  var SelectIcon;\n  switch (icon) {\n    case false:\n      break;\n    case true:\n    case undefined:\n      SelectIcon = open && theme.select.icons.up ? theme.select.icons.up : theme.select.icons.down;\n      break;\n    default:\n      SelectIcon = icon;\n  }\n  return SelectIcon;\n};\n\n// if labelKey is a function and valueLabel is not defined\n// we should use the labelKey function to display the\n// selected value\nexport var getDisplayLabelKey = function getDisplayLabelKey(labelKey, allOptions, optionIndexesInValue, selectValue) {\n  var optionLabelKey = applyKey(allOptions[optionIndexesInValue[0]], labelKey);\n  if (!selectValue && optionIndexesInValue.length === 1 && typeof optionLabelKey === 'object') return optionLabelKey;\n  return undefined;\n};\nexport var getIconColor = function getIconColor(theme) {\n  return normalizeColor(theme.select.icons.color || 'control', theme);\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}